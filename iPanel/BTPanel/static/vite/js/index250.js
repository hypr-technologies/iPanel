const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/form10.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang.js?v=1752142539265","js/naive.js?v=1752142539265","js/vue.js?v=1752142539265","js/__commonjsHelpers__.js?v=1752142539265","js/common.js?v=1752142539265","js/page_layout.js?v=1752142539265","js/public.js?v=1752142539265","css/public.css?v=1752142539265","css/page_layout.css?v=1752142539265"])))=>i.map(i=>d[i]);
import{gn as a,go as t,d as s,a as e}from"./page_layout.js?v=1752142539265";import{_ as o}from"./index.js?v=1752142539265";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import{b as i,h as l,d as c,c as d,e as r,f as _}from"./public.js?v=1752142539265";import{ay as m,cA as p}from"./naive.js?v=1752142539265";import{k as u,P as b,a1 as y,X as f,a2 as g,Q as h,W as j,j as x,a3 as w,_ as D}from"./vue.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265";const k=u({__name:"index",props:{data:{}},setup(u){const k=D((()=>e((()=>import("./form10.js?v=1752142539265")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),v=u,{params:q}=v.data,{t:M}=b(),{keys:P,table:L,columns:C}=i([{key:"database",title:M("Site.PHP.add_site_16"),render:a=>"*"===a.database?"* -".concat(M("Database.Mysql.index_22")):a.database},{key:"table",title:"Table",render:a=>"*"===a.table?"* -".concat(M("Database.Mysql.index_23")):a.table},{key:"user",title:M("Database.index_21"),render:a=>"".concat(M("Database.Mysql.index_24"),": ").concat(a.access.map((a=>a.access)).join(",")),ellipsis:{tooltip:!0}},l({width:80,options:t=>[{label:M("Public.Btn.Del"),onClick:async()=>{c({title:M("Public.Btn.Del"),content:M("Database.Mysql.index_25",[t.database]),onConfirm:async()=>{let s={...q,db_name:t.database,tb_name:t.table,access:t.access.map((a=>a.access)).join(","),with_grant:0};await a(s),E()}})}}]})]),{loading:A,setLoading:B}=d(),E=async()=>{try{B(!0);const{message:a}=await t(q);s(a)&&(L.data=a.data)}finally{B(!1),P.value=[]}};E();const H=r(M("Database.Mysql.index_21"),{getList:E,params:q});return(a,t)=>{const s=m,e=_,i=n,l=o,c=p;return f(),y(c,{class:"p-16px"},{default:g((()=>[h(i,null,{toolsLeft:g((()=>[h(s,{type:"primary",onClick:t[0]||(t[0]=a=>j(H).show=!0)},{default:g((()=>[x(w(a.$t("Database.Mysql.index_21")),1)])),_:1})])),table:g((()=>[h(e,{loading:j(A),data:j(L).data,"max-height":500,columns:j(C)},null,8,["loading","data","columns"])])),_:1}),h(l,{show:j(H).show,"onUpdate:show":t[1]||(t[1]=a=>j(H).show=a),title:j(H).title,data:j(H).data,width:600,"min-height":250,footer:!0,component:j(k)},null,8,["show","title","data","component"])])),_:1})}}});export{k as default};
