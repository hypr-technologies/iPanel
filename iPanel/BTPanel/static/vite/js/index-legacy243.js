System.register(["./index-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./site-legacy4.js?v=1752142539265","./public-legacy.js?v=1752142539265","./site-legacy.js?v=1752142539265","./index-legacy86.js?v=1752142539265","./index-legacy102.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./form.vue_vue_type_script_setup_true_lang-legacy2.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index-legacy127.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1752142539265","./soft-legacy.js?v=1752142539265","./index-legacy184.js?v=1752142539265","./index-legacy100.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1752142539265","./index-legacy96.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1752142539265","./theme-chrome-legacy.js?v=1752142539265","./file-legacy.js?v=1752142539265","./refersh-legacy.js?v=1752142539265","./php-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1752142539265","./index-legacy101.js?v=1752142539265","./ssl-legacy.js?v=1752142539265","./cert-legacy.js?v=1752142539265","./utils-legacy3.js?v=1752142539265","./index-legacy208.js?v=1752142539265","./paypal-js-legacy.js?v=1752142539265","./ssl-lets-progress-legacy.js?v=1752142539265","./Ssl.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265"],(function(e,t){"use strict";var l,a,s,i,n,u,o,d,r,c,p,_,m,f,h,g,v,y,w,x,b,j,k,P,C,O,$,M,D,R,z,q,W,U,B,F,A,L,S,H,E,I,K,N,T,V,X,G,Q,Y,J,Z,ee,te,le,ae,se,ie;return{setters:[e=>{l=e._},e=>{a=e.v,s=e.i,i=e.d,n=e.aY,u=e.e,o=e.m,d=e.w,r=e.bj,c=e._},e=>{p=e.o},e=>{_=e.c,m=e.b,f=e.f,h=e.h,g=e.d,v=e._,y=e.w,w=e.e,x=e.E,b=e.r},e=>{j=e.X,k=e.aG},e=>{P=e.h,C=e.o,O=e.i,$=e.j,M=e.k,D=e.l},e=>{R=e._},e=>{z=e.i,q=e.p,W=e.k,U=e.Q,B=e.U,F=e.X,A=e.V,L=e.W,S=e.a1,H=e.a2,E=e.q,I=e.P,K=e.r,N=e.at,T=e.ah,V=e.j,X=e.a3,G=e.t,Q=e.an,Y=e.e},e=>{J=e.c1,Z=e.c5,ee=e.cH,te=e.aq,le=e.ay,ae=e.c3,se=e.bA},e=>{ie=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".n-tag[data-v-c6193199]{--n-height: 16px;--n-padding: 0 5px;--n-font-size: 90%;--n-text-color: #2196f3;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.tools-card[data-v-3d92e7a2]{display:flex;align-items:center;padding:12px 24px;border-radius:4px;background-color:#f7f7f7}.tools-card+.tools-card[data-v-3d92e7a2]{margin-top:16px}.tools-card .tools-img[data-v-3d92e7a2]{display:flex;justify-content:center;width:26px}.tools-card .tools-name[data-v-3d92e7a2]{min-width:150px;padding:0 12px;font-size:13px}.tools-card .n-button[data-v-3d92e7a2]{margin-left:12px;width:32px;padding:0}.tools-card .tools-desc[data-v-3d92e7a2]{margin-left:16px}\n/*$vite$:1*/",document.head.appendChild(t);const ne=Symbol("server-list");function ue(){return z(ne)}const oe=e=>a.post("/tamper_core/add_black_exts.json",e,{requestOptions:{loading:s.global.t("WP.api.tamper_2"),isOriginalResult:!0,prefix:""}}),de=e=>a.post("/tamper_core/remove_black_exts.json",e,{requestOptions:{loading:s.global.t("WP.api.tamper_3"),isOriginalResult:!0,prefix:""}}),re=W({__name:"index",setup(e,{expose:t}){const{site:l,setPid:u}=ue(),{loading:o,setLoading:d}=_(),{table:r,columns:c}=m([{key:"name",title:"Name"},{key:"status",title:"Status",align:"right",render:e=>U(J,{value:e.status,size:"small",checkedValue:1,uncheckedValue:0,onUpdateValue:async t=>{const{message:l}=await(n={key:e.key,value:t,path_id:e.id},a.post("/tamper_core/modify_path_config.json",n,{requestOptions:{loading:s.global.t("WP.api.tamper_1"),isOriginalResult:!0,prefix:""}}));var n;i(l)&&l.status&&(e.status=t)}},null)}]),p=[{title:"Create file",name:"create"},{title:"Modify file",name:"modify"},{title:"Delete file",name:"unlink"},{title:"Create directory",name:"mkdir"},{title:"Delete directory",name:"rmdir"},{title:"Rename file",name:"rename"},{title:"Create soft link",name:"link"},{title:"Modify permissions",name:"chmod"},{title:"Modify owner",name:"chown"}],h=async()=>{try{d(!0);const{message:t}=await P({path:l.path});i(t)&&!Z(t)?(u(t.pid),e=t,r.data=p.map((t=>{const l=`is_${t.name}`,a=e[l];return{key:l,id:e.pid,name:`Disabled ${t.title}`,status:n(a)?a:0}}))):r.data=[]}finally{d(!1)}var e};return h(),t({init:h}),(e,t)=>{const l=f;return F(),B("div",null,[U(l,{loading:L(o),"loading-num":9,"max-height":340,data:L(r).data,columns:L(c)},null,8,["loading","data","columns"]),t[0]||(t[0]=A("div",{class:"mt-16px text-#777"}," Tip: Current config intercepts the above rules by default, please set and config the rules according the current project requirements. ",-1))])}}}),ce=u({},[["render",function(e,t){const l=ee;return F(),S(l,{size:"small",bordered:!1},{default:H((()=>[E(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-c6193199"]]),pe={class:"flex mb-12px"},_e={class:"w-240px mr-12px"},me=W({__name:"index",setup(e,{expose:t}){const{t:l}=I(),{site:a,setPid:s}=ue(),n=K("");let u=-1,r="";const c=async()=>{if(""===n.value.trim())return void o.error("Please enter suffix");const{message:e}=await oe({path_id:u,path:r,exts:n.value});i(e)&&(e.status?(o.success(e.msg),n.value="",j()):o.error(e.msg))},{table:p,columns:y}=m([{key:"exts",title:"Suffix"},h({width:100,options:e=>[{label:l("Public.Btn.Del"),onClick:()=>{w(e)}}]})]),w=async e=>{g({title:`Delete protected file suffix [${e.exts}]`,content:"Delete protected file suffix, the file whose file name ends with this suffix will lose protection. want to continue?",onConfirm:async()=>{const{message:t}=await de({path_id:e.id,path:r,exts:e.exts});i(t)&&(t.status?(o.success(t.msg),j()):o.error(t.msg))}})},{loading:x,setLoading:b}=_(),j=async()=>{try{b(!0);const{message:t}=await P({path:a.path});i(t)&&(s(t.pid),u=(e=t).pid,r=e.path,d(e.black_exts)?p.data=e.black_exts.filter((e=>"/"!=e[0]&&-1==e.indexOf("./"))).map((t=>({id:e.pid,exts:t}))):p.data=[])}finally{b(!1)}var e};return j(),t({init:j}),(e,t)=>{const l=te,a=le,s=f,i=ce,u=v;return F(),B("div",null,[A("div",pe,[A("div",_e,[U(l,{value:L(n),"onUpdate:value":t[0]||(t[0]=e=>T(n)?n.value=e:null),placeholder:"Suffix",onKeyup:N(c,["enter"])},null,8,["value"])]),U(a,{type:"primary",onClick:c},{default:H((()=>[V(X(e.$t("Public.Btn.Add")),1)])),_:1})]),U(s,{loading:L(x),"loading-num":6,"max-height":230,data:L(p).data,columns:L(y)},null,8,["loading","data","columns"]),U(u,{class:"mt-16px"},{default:H((()=>[t[25]||(t[25]=A("li",null," The so-called file suffix refers the string at the end of the file name, not necessarily the extension ",-1)),A("li",null,[t[5]||(t[5]=V(" As: ")),U(i,null,{default:H((()=>t[1]||(t[1]=[V(".php")]))),_:1,__:[1]}),t[6]||(t[6]=V(", ")),U(i,null,{default:H((()=>t[2]||(t[2]=[V(".html")]))),_:1,__:[2]}),t[7]||(t[7]=V(", ")),U(i,null,{default:H((()=>t[3]||(t[3]=[V(".js?v=1752142539265")]))),_:1,__:[3]}),t[8]||(t[8]=V(", ")),U(i,null,{default:H((()=>t[4]||(t[4]=[V("index.php")]))),_:1,__:[4]}),t[9]||(t[9]=V(" etc. "))]),t[26]||(t[26]=A("div",null,"Example:",-1)),A("li",null,[U(i,null,{default:H((()=>t[10]||(t[10]=[V(".php")]))),_:1,__:[10]}),t[14]||(t[14]=V(" Match: ")),U(i,null,{default:H((()=>t[11]||(t[11]=[V("./1.php")]))),_:1,__:[11]}),t[15]||(t[15]=V()),U(i,null,{default:H((()=>t[12]||(t[12]=[V("./test/2.php")]))),_:1,__:[12]}),t[16]||(t[16]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[13]||(t[13]=[V("./1.php/1.txt")]))),_:1,__:[13]})]),A("li",null,[U(i,null,{default:H((()=>t[17]||(t[17]=[V("index.php")]))),_:1,__:[17]}),t[22]||(t[22]=V(" Match: ")),U(i,null,{default:H((()=>t[18]||(t[18]=[V("./index.php")]))),_:1,__:[18]}),t[23]||(t[23]=V()),U(i,null,{default:H((()=>t[19]||(t[19]=[V("./test/index.php")]))),_:1,__:[19]}),U(i,{class:"ml-0.5em"},{default:H((()=>t[20]||(t[20]=[V("./abc_index.php")]))),_:1,__:[20]}),t[24]||(t[24]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[21]||(t[21]=[V("./index.php.tar.gz")]))),_:1,__:[21]})])])),_:1,__:[25,26]})])}}}),fe={class:"flex mb-12px"},he={class:"w-240px mr-12px"},ge=W({__name:"index",setup(e,{expose:t}){const{t:l}=I(),{site:a,setPid:s}=ue(),n=K("");let u=-1,r="";const c=async()=>{if(""===n.value.trim())return void o.error("Please enter the full path or relative path of the file");const{message:e}=await oe({path_id:u,path:r,exts:n.value});i(e)&&(e.status?(o.success(e.msg),n.value="",j()):o.error(e.msg))},{table:p,columns:y}=m([{key:"exts",title:"Full file path"},h({width:100,options:e=>[{label:l("Public.Btn.Del"),onClick:()=>{w(e)}}]})]),w=async e=>{g({title:`Delete protected files [${e.exts}]`,content:"After deleting a protected file, the file will be unprotected, should I continue the operation?",onConfirm:async()=>{const{message:t}=await de({path_id:e.id,path:r,exts:e.exts});i(t)&&(t.status?(o.success(t.msg),j()):o.error(t.msg))}})},{loading:x,setLoading:b}=_(),j=async()=>{try{b(!0);const{message:t}=await P({path:a.path});i(t)&&(s(t.pid),u=(e=t).pid,r=e.path,d(e.black_exts)?p.data=e.black_exts.filter((e=>"/"==e[0]||"."==e[0]&&"/"==e[1])).map((t=>({id:e.pid,exts:t}))):p.data=[])}finally{b(!1)}var e};return j(),t({init:j}),(e,t)=>{const l=te,a=le,s=f,i=ce,u=v;return F(),B("div",null,[A("div",fe,[A("div",he,[U(l,{value:L(n),"onUpdate:value":t[0]||(t[0]=e=>T(n)?n.value=e:null),placeholder:"Full path Or Relative path",onKeyup:N(c,["enter"])},null,8,["value"])]),U(a,{type:"primary",onClick:c},{default:H((()=>[V(X(e.$t("Public.Btn.Add")),1)])),_:1})]),U(s,{loading:L(x),"loading-num":5,"max-height":200,data:L(p).data,columns:L(y)},null,8,["loading","data","columns"]),U(u,{class:"mt-16px"},{default:H((()=>[t[15]||(t[15]=A("li",{class:"font-bold text-#333"},"The following 4 methods are supported",-1)),A("li",null,[t[2]||(t[2]=V("1. Complete file path, such as: ")),U(i,null,{default:H((()=>t[1]||(t[1]=[V("/www/wwwroot/test/123.log")]))),_:1,__:[1]})]),A("li",null,[t[5]||(t[5]=V(" 2. Relative path to the site, such as: Full path ")),U(i,null,{default:H((()=>t[3]||(t[3]=[V("/www/wwwroot/test/app/123.log")]))),_:1,__:[3]}),t[6]||(t[6]=V(" Relative path ")),U(i,null,{default:H((()=>t[4]||(t[4]=[V("./app/123.log")]))),_:1,__:[4]})]),A("li",null,[t[9]||(t[9]=V(" 3. All files in the specified directory, such as: ")),U(i,null,{default:H((()=>t[7]||(t[7]=[V("/www/wwwroot/test/app/*")]))),_:1,__:[7]}),t[10]||(t[10]=V(" Relative path ")),U(i,null,{default:H((()=>t[8]||(t[8]=[V("./app/*")]))),_:1,__:[8]})]),A("li",null,[t[13]||(t[13]=V(" 4. the specified directory under the specified file type, such as: ")),U(i,null,{default:H((()=>t[11]||(t[11]=[V("/www/wwwroot/test/app/*.log")]))),_:1,__:[11]}),t[14]||(t[14]=V(" Relative path ")),U(i,null,{default:H((()=>t[12]||(t[12]=[V("./app/*.log")]))),_:1,__:[12]})]),t[16]||(t[16]=A("li",{class:"text-error"}," Note: files already included in the protected file suffix do not need to be set. ",-1))])),_:1,__:[15,16]})])}}}),ve={class:"flex mb-12px"},ye={class:"w-240px mr-12px"},we=W({__name:"index",setup(e,{expose:t}){const{t:l}=I(),{site:n,setPid:u}=ue(),r=K("");let c=-1,p="";const w=async()=>{if(""===r.value.trim())return void o.error("Please enter directory name");const{message:e}=await(t={path_id:c,path:p,dirnames:r.value},a.post("/tamper_core/add_white_dirs.json",t,{requestOptions:{loading:s.global.t("WP.api.tamper_4"),isOriginalResult:!0,prefix:""}}));var t;i(e)&&(e.status?(o.success(e.msg),r.value="",O()):o.error(e.msg))},{table:x,columns:b}=m([{key:"dir",title:"Directory",ellipsis:{tooltip:!0}},y({title:"Remark",onBlur:async(e,t)=>{const{message:l}=await(n={path_id:t.id,dir_name:t.dir,ps:e},a.post("/tamper_core/set_white_dir_with_ps.json",n,{requestOptions:{loading:s.global.t("WP.api.tamper_5"),isOriginalResult:!0,prefix:""}}));var n;i(l)&&(l.status?t.ps=e:o.error(l.msg))}}),h({width:80,options:e=>[{label:l("Public.Btn.Del"),onClick:()=>{j(e)}}]})]),j=async e=>{g({title:"Delete directory whitelist",content:e.tip_msg?e.tip_msg:`Delete [${e.dir}] later, All files in the directory will be protected, continue?`,onConfirm:async()=>{const{message:t}=await(l={path_id:e.id,path:p,dirname:e.dir},a.post("/tamper_core/remove_white_dirs.json",l,{requestOptions:{loading:s.global.t("WP.api.tamper_6"),isOriginalResult:!0,prefix:""}}));var l;i(t)&&(t.status?(o.success(t.msg),O()):o.error(t.msg))}})},{loading:k,setLoading:C}=_(),O=async()=>{try{C(!0);const{message:t}=await P({path:n.path});i(t)&&(u(t.pid),c=(e=t).pid,p=e.path,d(e.white_dirs)?x.data=e.white_dirs.map((t=>({id:e.pid,ps:t.ps||"",tip_msg:t.tip_msg||"",...t}))):x.data=[])}finally{C(!1)}var e};return O(),t({init:O}),(e,t)=>{const l=te,a=le,s=f,i=ce,n=v;return F(),B("div",null,[A("div",ve,[A("div",ye,[U(l,{value:L(r),"onUpdate:value":t[0]||(t[0]=e=>T(r)?r.value=e:null),placeholder:"Directory name",onKeyup:N(w,["enter"])},null,8,["value"])]),U(a,{type:"primary",onClick:w},{default:H((()=>[V(X(e.$t("Public.Btn.Add")),1)])),_:1})]),U(s,{loading:L(k),"loading-num":5,"max-height":188,data:L(x).data,columns:L(b)},null,8,["loading","data","columns"]),U(n,{class:"mt-16px"},{default:H((()=>[A("li",null,[t[4]||(t[4]=V(" Full path or directory name or parts path are allowed such as: ")),U(i,null,{default:H((()=>t[1]||(t[1]=[V("/www/abc/cache/test/")]))),_:1,__:[1]}),t[5]||(t[5]=V(", ")),U(i,null,{default:H((()=>t[2]||(t[2]=[V("test")]))),_:1,__:[2]}),t[6]||(t[6]=V(", ")),U(i,null,{default:H((()=>t[3]||(t[3]=[V("cache/test/")]))),_:1,__:[3]})]),A("li",null,[t[10]||(t[10]=V(" The first character of the Full path must be ")),U(i,null,{default:H((()=>t[7]||(t[7]=[V("/")]))),_:1,__:[7]}),t[11]||(t[11]=V(", as: ")),U(i,null,{default:H((()=>t[8]||(t[8]=[V("cache/test/")]))),_:1,__:[8]}),t[12]||(t[12]=V(" or ")),U(i,null,{default:H((()=>t[9]||(t[9]=[V("test")]))),_:1,__:[9]})]),A("li",null,[t[15]||(t[15]=V(" art of directory name or path cannot begin with ")),U(i,null,{default:H((()=>t[13]||(t[13]=[V("/")]))),_:1,__:[13]}),t[16]||(t[16]=V(", as: ")),U(i,null,{default:H((()=>t[14]||(t[14]=[V("/www/abc/cache/test/")]))),_:1,__:[14]})]),t[39]||(t[39]=A("div",null,"Example:",-1)),A("li",null,[U(i,null,{default:H((()=>t[17]||(t[17]=[V("/www/abc/")]))),_:1,__:[17]}),t[21]||(t[21]=V(" Match: ")),U(i,null,{default:H((()=>t[18]||(t[18]=[V("/www/abc/*")]))),_:1,__:[18]}),t[22]||(t[22]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[19]||(t[19]=[V("/www/abc")]))),_:1,__:[19]}),U(i,{class:"ml-0.5em"},{default:H((()=>t[20]||(t[20]=[V("/www/abc123")]))),_:1,__:[20]})]),A("li",null,[U(i,null,{default:H((()=>t[23]||(t[23]=[V("test")]))),_:1,__:[23]}),t[27]||(t[27]=V(" Match: ")),U(i,null,{default:H((()=>t[24]||(t[24]=[V("/www/test/1.txt")]))),_:1,__:[24]}),t[28]||(t[28]=V()),U(i,null,{default:H((()=>t[25]||(t[25]=[V("/www/test_abc")]))),_:1,__:[25]}),t[29]||(t[29]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[26]||(t[26]=[V("/www/1.php")]))),_:1,__:[26]})]),A("li",null,[U(i,null,{default:H((()=>t[30]||(t[30]=[V("cache/test/")]))),_:1,__:[30]}),t[35]||(t[35]=V(" Match: ")),U(i,null,{default:H((()=>t[31]||(t[31]=[V("/www/cache/test/1.txt")]))),_:1,__:[31]}),t[36]||(t[36]=V()),U(i,null,{default:H((()=>t[32]||(t[32]=[V("/cache/test/")]))),_:1,__:[32]}),t[37]||(t[37]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[33]||(t[33]=[V("/www/cache/test")]))),_:1,__:[33]}),t[38]||(t[38]=V()),U(i,null,{default:H((()=>t[34]||(t[34]=[V("/cache/")]))),_:1,__:[34]})])])),_:1,__:[39]})])}}}),xe={class:"flex mb-12px"},be={class:"w-240px mr-12px"},je=W({__name:"index",setup(e,{expose:t}){const{t:l}=I(),{site:n,setPid:u}=ue(),r=K("");let c=-1,p="";const y=async()=>{if(""===r.value.trim())return void o.error("Please enter file name");const{message:e}=await(t={path_id:c,path:p,filename:r.value},a.post("/tamper_core/add_white_files.json",t,{requestOptions:{loading:s.global.t("WP.api.tamper_4"),isOriginalResult:!0,prefix:""}}));var t;i(e)&&(e.status?(o.success(e.msg),r.value="",C()):o.error(e.msg))},{table:w,columns:x}=m([{key:"filename",title:"File name"},h({width:100,options:e=>[{label:l("Public.Btn.Del"),onClick:()=>{b(e)}}]})]),b=async e=>{g({title:`Delete file whitelist [${e.filename}]`,content:"After Delete whitelist, the file will be protected. want to continue?",onConfirm:async()=>{const{message:t}=await(l={path_id:e.id,path:p,filename:e.filename},a.post("/tamper_core/remove_white_files.json",l,{requestOptions:{loading:s.global.t("WP.api.tamper_6"),isOriginalResult:!0,prefix:""}}));var l;i(t)&&(t.status?(o.success(t.msg),C()):o.error(t.msg))}})},{loading:j,setLoading:k}=_(),C=async()=>{try{k(!0);const{message:t}=await P({path:n.path});i(t)&&(u(t.pid),c=(e=t).pid,p=e.path,d(e.white_files)?w.data=e.white_files.map((t=>({id:e.pid,filename:t}))):w.data=[])}finally{k(!1)}var e};return C(),t({init:C}),(e,t)=>{const l=te,a=le,s=f,i=ce,n=v;return F(),B("div",null,[A("div",xe,[A("div",be,[U(l,{value:L(r),"onUpdate:value":t[0]||(t[0]=e=>T(r)?r.value=e:null),placeholder:"File name",onKeyup:N(y,["enter"])},null,8,["value"])]),U(a,{type:"primary",onClick:y},{default:H((()=>[V(X(e.$t("Public.Btn.Add")),1)])),_:1})]),U(s,{loading:L(j),"loading-num":6,"max-height":230,data:L(w).data,columns:L(x)},null,8,["loading","data","columns"]),U(n,{class:"mt-16px"},{default:H((()=>[A("li",null,[t[3]||(t[3]=V(" Full path or single filename are allowed such as: ")),U(i,null,{default:H((()=>t[1]||(t[1]=[V("/test/index.php")]))),_:1,__:[1]}),t[4]||(t[4]=V(", ")),U(i,null,{default:H((()=>t[2]||(t[2]=[V("index.php")]))),_:1,__:[2]})]),t[17]||(t[17]=A("li",null,"Note: Only be an absolute path or file name, relative paths are not supported",-1)),t[18]||(t[18]=A("div",null,"Example:",-1)),A("li",null,[U(i,null,{default:H((()=>t[5]||(t[5]=[V("index.php")]))),_:1,__:[5]}),t[10]||(t[10]=V(" Match: ")),U(i,null,{default:H((()=>t[6]||(t[6]=[V("./index.php")]))),_:1,__:[6]}),t[11]||(t[11]=V()),U(i,null,{default:H((()=>t[7]||(t[7]=[V("./test/index.php")]))),_:1,__:[7]}),t[12]||(t[12]=V(" Mismatch: ")),U(i,null,{default:H((()=>t[8]||(t[8]=[V("./abc_index.php")]))),_:1,__:[8]}),t[13]||(t[13]=V()),U(i,null,{default:H((()=>t[9]||(t[9]=[V("./index.php/1.txt")]))),_:1,__:[9]})]),A("li",null,[U(i,null,{default:H((()=>t[14]||(t[14]=[V("/test/index.php")]))),_:1,__:[14]}),t[16]||(t[16]=V(" match only: ")),U(i,null,{default:H((()=>t[15]||(t[15]=[V("/test/index.php")]))),_:1,__:[15]})])])),_:1,__:[17,18]})])}}}),ke={class:"p-20px"},Pe={class:"flex items-center text-12px text-#666"},Ce={key:0,class:"ml-12px"},Oe={class:"h-500px"},$e=W({__name:"index",props:{open:{type:Boolean,default:!1},site:{}},emits:["changeOpen"],setup(e,{emit:t}){const l=e,a=t,s=G(l,"site");let i=-1;const n=K(l.open),u=K(),o=async e=>{e?await C({paths:[{path:s.value.path,ps:s.value.ps}]}):await O({path_id:i}),n.value=e,a("changeOpen",e),u.value.init()},d=K("basic"),r=[{key:"basic",label:"Basic Setting",component:re},{key:"suffix",label:"Protected file suffix",component:me},{key:"protected file",label:"Protected File",component:ge},{key:"directory whitelist",label:"Directory whitelist",component:we},{key:"file whitelist",label:"File whitelist",component:je}];var c;return c={site:s.value,setPid:e=>{i=e}},q(ne,c),(e,t)=>{const l=J,a=ae,s=R;return F(),B("div",ke,[U(a,{class:"mb-16px",type:L(n)?"success":"error","show-icon":!1,bordered:!1},{default:H((()=>[A("div",Pe,[t[1]||(t[1]=A("span",{class:"mr-12px"},"Protection switch",-1)),U(l,{value:L(n),"onUpdate:value":o},null,8,["value"]),L(n)?Q("",!0):(F(),B("span",Ce," Protection directory closed, be security risks, Recommended open protection immediately "))])])),_:1},8,["type"]),A("div",Oe,[U(s,{ref_key:"tabsRef",ref:u,value:L(d),"onUpdate:value":t[0]||(t[0]=e=>T(d)?d.value=e:null),options:r},null,8,["value"])])])}}}),Me=W({__name:"index",props:{site:{}},emits:["changeHotlink"],setup(e,{emit:t}){const l=t,a=G(e,"site"),s=e=>{l("changeHotlink",e)};return(e,t)=>(F(),B("div",null,[U(ie,{class:"p-20px",site:L(a),onChangeHotlink:s},null,8,["site"])]))}}),De={class:"p-20px"},Re={class:"tools-card"},ze={class:"tools-img"},qe={class:"tools-name"},We={class:"tools-desc"},Ue={class:"ml-0.5em"},Be={class:"tools-card"},Fe={class:"tools-img"},Ae={class:"tools-name"},Le={class:"tools-desc"},Se={class:"ml-0.5em"},He={class:"tools-card"},Ee={class:"tools-img"},Ie={class:"tools-name"},Ke=W({__name:"index",props:{site:{}},setup(e){const t=G(e,"site"),a=Y({status:!1,number:0,pid:-1}),s=K(!1),n=async e=>{try{s.value=!0,await x({source:200}),await b("tamper_core"),e?await C({paths:[{path:t.value.path,ps:t.value.ps}]}):await O({path_id:a.pid}),W()}finally{s.value=!1}},u=w(`File Protection [${t.value.name}]`,{site:t.value,open:!1,onChangeOpen:e=>{a.status=e}}),o=async()=>{await x({source:200}),await b("tamper_core"),u.data.open=a.status,u.show=!0},d=Y({status:!1,number:0}),_=K(!1),m=async e=>{try{_.value=!0,await x({source:201}),await b("btwaf"),e?await M({site_name:t.value.name}):await D({site_name:t.value.name}),W()}finally{_.value=!1}},f=async()=>{await x({source:201}),await b("btwaf"),p(t.value.name),h()},h=()=>{let e=0;const t=setInterval((()=>{e+=.5;const l=document.querySelector(".waf_site_body");if(l){let e=!1;new MutationObserver((t=>{t.forEach((t=>{"childList"!==t.type||document.contains(l)||e||(W(),e=!0)}))})).observe(document.body,{childList:!0,subtree:!0}),clearInterval(t)}e>=20&&clearInterval(t)}),500)},g=K(!1),v=K(!1),y=async e=>{try{v.value=!0;const{message:l}=await j({id:t.value.id,name:t.value.name},!1);if(i(l)){const a={id:t.value.id,name:t.value.name,fix:l.fix,domains:l.domains,return_rule:l.return_rule,status:e,http_status:"true"===l.http_status};await k(a,!1),g.value=e}}finally{v.value=!1}},R=w(`Hotlink Protection [${t.value.name}]`,{site:t.value,onChangeHotlink:e=>{g.value=e}}),z=()=>{R.show=!0},q=e=>{s.value=e,_.value=e,v.value=e},W=async()=>{try{q(!0);const{message:e}=await $({id:t.value.id,path:t.value.path,site_name:t.value.name});if(i(e)&&(a.status=1===e.file_status,a.number=e.file_count,d.status=1===e.firewall_status,d.number=e.firewall_count,g.value=1===e.hotlink_status,1===e.file_status)){const{message:e}=await P({path:t.value.path});i(e)&&(a.pid=e.pid)}}finally{q(!1)}};return W(),(e,t)=>{const i=se,p=J,h=c,w=le,x=ee,b=l;return F(),B("div",De,[A("div",Re,[A("div",ze,[U(i,{lazy:!0,"preview-disabled":!0,width:"24",src:`${L(r)}images/soft-ico/ico-tamper_core.png`},null,8,["src"])]),A("div",qe,X(e.$t("WP.Label.index_5")),1),U(p,{value:L(a).status,loading:L(s),"onUpdate:value":n},null,8,["value","loading"]),U(w,{quaternary:"",size:"small",onClick:o},{default:H((()=>[U(h,{name:"setting",size:"18"})])),_:1}),A("div",We,[U(x,{type:"error",size:"small",bordered:!1},{default:H((()=>[V(X(L(a).number),1)])),_:1}),A("span",Ue,X(e.$t("WP.Config.index_6")),1)])]),A("div",Be,[A("div",Fe,[U(i,{lazy:!0,"preview-disabled":!0,width:"26",src:`${L(r)}images/soft-ico/ico-btwaf.png`},null,8,["src"])]),A("div",Ae,X(e.$t("WP.Label.index_6")),1),U(p,{value:L(d).status,loading:L(_),"onUpdate:value":m},null,8,["value","loading"]),U(w,{quaternary:"",size:"small",onClick:f},{default:H((()=>[U(h,{name:"setting",size:"18"})])),_:1}),A("div",Le,[U(x,{type:"error",size:"small",bordered:!1},{default:H((()=>[V(X(L(d).number),1)])),_:1}),A("span",Se,X(e.$t("WP.Config.index_7")),1)])]),A("div",He,[A("div",Ee,[U(h,{name:"soft-hotlink",size:"24"})]),A("div",Ie,X(e.$t("WP.Label.index_7")),1),U(p,{value:L(g),loading:L(v),"onUpdate:value":y},null,8,["value","loading"]),U(w,{quaternary:"",size:"small",onClick:z},{default:H((()=>[U(h,{name:"setting",size:"18"})])),_:1})]),U(b,{show:L(u).show,"onUpdate:show":t[0]||(t[0]=e=>L(u).show=e),title:L(u).title,data:L(u).data,width:800,component:$e},null,8,["show","title","data"]),U(b,{show:L(R).show,"onUpdate:show":t[1]||(t[1]=e=>L(R).show=e),title:L(R).title,data:L(R).data,component:Me},null,8,["show","title","data"])])}}});e("default",u(Ke,[["__scopeId","data-v-3d92e7a2"]]))}}}));


