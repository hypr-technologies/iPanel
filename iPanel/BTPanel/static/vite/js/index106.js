const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/backup-info.js?v=1752142539265","js/public.js?v=1752142539265","js/page_layout.js?v=1752142539265","js/vue.js?v=1752142539265","js/__commonjsHelpers__.js?v=1752142539265","js/naive.js?v=1752142539265","js/common.js?v=1752142539265","css/page_layout.css?v=1752142539265","css/public.css?v=1752142539265","js/utils.js?v=1752142539265","js/soft.js?v=1752142539265","css/backup-info.css?v=1752142539265"])))=>i.map(i=>d[i]);
import{V as a,n as e,W as t,O as l,a as s,d as i}from"./page_layout.js?v=1752142539265";import{_ as o}from"./index.js?v=1752142539265";import{_ as u}from"./index102.js?v=1752142539265";import{k as p,ad as n,a1 as r,X as _,a2 as c,Q as d,W as f,j as m,a3 as b,P as k,r as v,c as x,V as g,ah as h,_ as y}from"./vue.js?v=1752142539265";import{e as C,c as j}from"./public.js?v=1752142539265";import{u as B,G as w}from"./utils.js?v=1752142539265";import{ay as $}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./soft.js?v=1752142539265";const D=p({__name:"detail",props:{backupDetail:{default:()=>({type:"backup",done_time:"-",backup_file_size:"-",backup_file:"-",backup_file_sha256:"-",total_time:"-"})},type:{}},setup(l){const s=l,{backupDetail:i,type:o}=n(s);return(l,s)=>{const u=a,p=t;return _(),r(p,{column:1,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:c((()=>[d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_70"):l.$t("Config.Backup.index_71")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.done_time),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_72"):l.$t("Config.Backup.index_73")},{default:c((()=>{var a;return[m(b(f(e)(Number((null==(a=f(i))?void 0:a.backup_file_size)||0))),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_74"):l.$t("Config.Backup.index_75")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file),1)]})),_:1},8,["label"]),d(u,{label:l.$t("Config.Backup.index_63")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file_sha256),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_76"):l.$t("Config.Backup.index_77")},{default:c((()=>{var a;return[m(b((null==(a=f(i))?void 0:a.total_time)?"backup"===f(o)?f(i).total_time+" s":f(i).restore_total_time+" s":"-"),1)]})),_:1},8,["label"])])),_:1})}}}),V={class:"mt-16px text-right"},z=p({__name:"index",props:{data:{}},setup(a){const{t:e}=k(),t=y((()=>s((()=>import("./backup-info.js?v=1752142539265")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),p=B(),z=a,{data:E}=n(z),L=C(e("Config.Backup.index_89")),O=v({}),P=v("backup"),R=v(),U=[{key:"backup",label:e("Config.Backup.index_19"),component:D,data:{backupDetail:x((()=>O.value)),type:"backup"}},{key:"restore",label:e("Config.Backup.index_90"),component:D,data:{backupDetail:x((()=>O.value)),type:"restore"},show:0!==E.value.restore_status}],W=()=>{I()},A=()=>{L.show=!0,p.getData(O.value.data_status)},{loading:G,setLoading:H}=j(),I=async()=>{try{H(!0);const{message:a}=await w({timestamp:E.value.timestamp,type:P.value});i(a)&&(O.value=a)}finally{H(!1)}};return I(),(a,s)=>{const i=u,p=$,n=o,k=l;return _(),r(k,{class:"p-16px",show:f(G)},{default:c((()=>[d(i,{value:f(P),"onUpdate:value":[s[0]||(s[0]=a=>h(P)?P.value=a:null),W],ref_key:"tabsRef",ref:R,options:U},null,8,["value"]),g("div",V,[d(p,{type:"primary",class:"mr-16px",onClick:A},{default:c((()=>[m(b(f(e)("Config.Backup.index_88")),1)])),_:1})]),d(n,{show:f(L).show,"onUpdate:show":s[1]||(s[1]=a=>f(L).show=a),title:f(L).title,data:f(L).data,width:"750","min-height":250},{default:c((()=>[d(f(t),{class:"p-16px"})])),_:1},8,["show","title","data"])])),_:1},8,["show"])}}});export{z as default};
