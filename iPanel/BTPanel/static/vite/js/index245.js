import{_ as e}from"./index.js?v=1752142539265";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1752142539265";import{_ as s,b as i,c as l,f as n,K as o,h as d,e as r,d as p}from"./public.js?v=1752142539265";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1752142539265";import{w as _,m as c,dn as m,p as h,d as y,e as x}from"./page_layout.js?v=1752142539265";import{p as g,q as w,r as v,s as f,t as j,u as k,v as b,x as S,y as P,z as W,A as R}from"./index86.js?v=1752142539265";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import{k as U,P as $,r as z,e as L,U as T,X as B,Q as q,W as I,a2 as K,V as A,a3 as D,ah as H,ax as N,j as O,N as J}from"./vue.js?v=1752142539265";import{cz as Q,aq as V,ay as X}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265";import"./index127.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang11.js?v=1752142539265";import"./site4.js?v=1752142539265";import"./soft.js?v=1752142539265";import"./site.js?v=1752142539265";import"./index184.js?v=1752142539265";import"./index100.js?v=1752142539265";import"./index102.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang9.js?v=1752142539265";import"./index96.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import"./theme-chrome.js?v=1752142539265";import"./file.js?v=1752142539265";import"./refersh.js?v=1752142539265";import"./php.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang17.js?v=1752142539265";import"./index101.js?v=1752142539265";import"./ssl.js?v=1752142539265";import"./cert.js?v=1752142539265";import"./utils3.js?v=1752142539265";import"./index208.js?v=1752142539265";import"./paypal-js.js?v=1752142539265";import"./ssl-lets-progress.js?v=1752142539265";import"./Ssl.vue_vue_type_script_setup_true_lang.js?v=1752142539265";const E={class:"p-20px"},F={class:"w-280px"},G=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),i=e,{getList:l}=i.data,n=z(null),o=L({name:""}),d={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=n.value)?void 0:t.validate()),await g({...o}),null==l||l(),e()}}),(e,t)=>{const a=V,i=Q,l=C,r=s;return B(),T("div",E,[q(l,{ref_key:"formRef",ref:n,model:I(o),rules:d},{default:K((()=>[q(i,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:K((()=>[A("div",F,[q(a,{type:"text",value:I(o).name,"onUpdate:value":t[0]||(t[0]=e=>I(o).name=e),placeholder:e.$t("WP.Sets.index_11")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),q(r,{class:"mt-4px"},{default:K((()=>[A("li",null,D(e.$t("WP.Sets.index_12")),1)])),_:1})])}}}),M={class:"p-20px"},Y=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),o=e,{id:d}=o.data,{keys:r,table:p,columns:u}=i([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2")}]),{loading:m,setLoading:h}=l();(async()=>{try{h(!0);const{message:e}=await w();_(e)&&(p.data=e)}finally{r.value=[],h(!1)}})();return t({onConfirm:async()=>{if(!r.value.length)return c.error(a("WP.Sets.index_18")),!1;const e=r.value.join(",");await v({set_id:d,site_ids:e})}}),(e,t)=>{const a=n,i=s;return B(),T("div",M,[q(a,{"checked-row-keys":I(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>H(r)?r.value=e:null),"row-key":"id",loading:I(m),data:I(p).data,"max-height":220,columns:I(u)},null,8,["checked-row-keys","loading","data","columns"]),q(i,{class:"mt-16px"},{default:K((()=>[A("li",null,D(e.$t("WP.Sets.index_17")),1),A("li",null,D(e.$t("WP.Sets.index_19")),1)])),_:1})])}}}),Z={class:"p-20px"},ee=x(U({__name:"index",props:{data:{}},setup(e){const{t:a}=$(),r=z(),p=e,{id:x}=p.data,{type:g}=p.data,{getList:w}=p.data,{keys:v,table:W,columns:R}=i([{key:"title",title:a("Site.TableRow.index_2"),width:"70%"},o({key:"state",title:a("WP.TableRow.index_9"),minWidth:100,onClick:async(e,t)=>{await f({item_ids:t.id,state:e?1:0,type:g}),Y()}}),d({width:80,options:e=>[{label:a("Public.Btn.Del"),onClick:async()=>{await j({item_ids:e.id,type:g}),Y(),null==w||w()}}]})]),{keys:C,table:U,columns:Q}=i([{type:"selection",width:40,disabled:e=>e.is_in_set},{key:"name",title:a("Site.TableRow.index_2"),width:"60%"},{key:"title",title:a("WP.index_19"),render:e=>q(m,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)}]),V=L({p:1,p_size:999,keyword:"",set_id:x}),E=async()=>{var e;if(!C.value.length)return c.error(a("WP.Sets.index_14")),void(null==(e=r.value)||e.focus());const t=U.data.filter((e=>C.value.includes(e.slug))).map((e=>({slug:e.slug,title:e.name,description:1===g?e.short_description:e.description})));await b({set_id:x,items:JSON.stringify(t),type:g}),Y(),null==w||w()},F=async()=>{if(V.keyword)try{const{message:e}=1===g?await S(J(V),!0):await P(J(V),!0);y(e)&&(U.total=e.total,_(e.list)?(U.data=e.list,U.data.length||c.error(a("WP.Sets.index_16"))):(U.data=[],U.total=0))}finally{C.value=[]}else c.error(a("WP.Sets.index_15"))},{loading:G,setLoading:M}=l(),Y=async()=>{try{M(!0);const{message:e}=await k({set_id:x,type:g});_(e)&&(W.data=e)}finally{v.value=[],M(!1)}};return Y(),(e,a)=>{const i=X,l=u,o=n,d=t,p=h,_=s;return B(),T("div",Z,[q(d,null,N({toolsLeft:K((()=>[q(i,{type:"primary",onClick:E},{default:K((()=>[O(D(e.$t("Public.Btn.Add")),1)])),_:1})])),toolsRight:K((()=>[q(l,{ref_key:"seachRef",ref:r,value:I(V).keyword,"onUpdate:value":a[0]||(a[0]=e=>I(V).keyword=e),placeholder:e.$t("Public.Btn.Search"),onSearch:F},null,8,["value","placeholder"])])),_:2},[I(U).data.length?{name:"table",fn:K((()=>[q(o,{class:"custom-table",bordered:!1,"checked-row-keys":I(C),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>H(C)?C.value=e:null),"row-key":"slug","max-height":150,data:I(U).data,columns:I(Q)},null,8,["checked-row-keys","data","columns"])])),key:"0"}:void 0]),1024),q(p,{class:"my-20px!"}),q(o,{loading:I(G),data:I(W).data,columns:I(R),"max-height":150},null,8,["loading","data","columns"]),q(_,{class:"mt-16px"},{default:K((()=>[A("li",null,D(e.$t("WP.Sets.index_13")),1)])),_:1})])}}}),[["__scopeId","data-v-0607cdd4"]]),te={class:"p-20px"},ae=U({__name:"index",setup(s,{expose:o}){const{t:_}=$(),c=r(_("WP.Sets.index_2")),m=L({p:1,p_size:10,keyword:""}),h=()=>{P.show=!0},x=()=>{m.p=1,b()},g=(e,t,a)=>{S.title=t,S.data.id=e.id,S.data.type=a,S.show=!0},{keys:w,table:v,columns:f}=i([{key:"name",title:_("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},d({title:_("WP.Sets.index_3"),align:"center",options:e=>[{label:_("WP.Sets.index_4",[e.plugins.length]),onClick:()=>{g(e,_("WP.Sets.index_5"),1)}}]}),d({title:_("WP.Sets.index_6"),align:"center",options:e=>[{label:_("WP.Sets.index_7",[e.themes.length]),onClick:()=>{g(e,_("WP.Sets.index_8"),2)}}]}),d({width:100,align:"center",options:e=>[{label:_("WP.TableRow.index_13"),disabled:!e.plugins.length&&!e.themes.length,onClick:()=>{c.data.id=e.id,c.show=!0}},{label:_("Public.Btn.Del"),onClick:()=>{p({title:"".concat(_("Site.TableOP.index_6")," [").concat(e.name,"]"),content:_("WP.Sets.index_9"),onConfirm:async({hide:t})=>{await W({set_id:e.id}),b(),t()}})}}]})]),{loading:j,setLoading:k}=l(),b=async()=>{try{k(!0);const{message:e}=await R(J(m));y(e)&&(v.data=e.list,v.total=e.total)}finally{w.value=[],k(!1)}},S=r(_("WP.Sets.index_5"),{getList:b}),P=r(_("WP.Sets.index_10"),{getList:b});return b(),o({init:b}),(s,i)=>{const l=X,o=u,d=n,r=a,p=t,_=e;return B(),T("div",te,[q(p,null,{toolsLeft:K((()=>[q(l,{type:"primary",onClick:h},{default:K((()=>[O(D(s.$t("WP.Sets.index_1")),1)])),_:1})])),toolsRight:K((()=>[q(o,{value:I(m).keyword,"onUpdate:value":i[0]||(i[0]=e=>I(m).keyword=e),placeholder:s.$t("Security.History.Index_14"),onSearch:x},null,8,["value","placeholder"])])),table:K((()=>[q(d,{"max-height":250,loading:I(j),data:I(v).data,columns:I(f)},null,8,["loading","data","columns"])])),pageRight:K((()=>[q(r,{page:I(m).p,"onUpdate:page":i[1]||(i[1]=e=>I(m).p=e),"page-size":I(m).p_size,"onUpdate:pageSize":i[2]||(i[2]=e=>I(m).p_size=e),"item-count":I(v).total,onRefresh:b},null,8,["page","page-size","item-count"])])),_:1}),q(_,{show:I(P).show,"onUpdate:show":i[3]||(i[3]=e=>I(P).show=e),title:I(P).title,data:I(P).data,width:480,footer:!0,component:G},null,8,["show","title","data"]),q(_,{show:I(S).show,"onUpdate:show":i[4]||(i[4]=e=>I(S).show=e),title:I(S).title,data:I(S).data,width:600,"min-height":350,footer:!1,component:ee},null,8,["show","title","data"]),q(_,{show:I(c).show,"onUpdate:show":i[5]||(i[5]=e=>I(c).show=e),title:I(c).title,data:I(c).data,width:480,"min-height":350,footer:!0,"confirm-text":s.$t("WP.TableRow.index_13"),component:Y},null,8,["show","title","data","confirm-text"])])}}});export{ae as default};
