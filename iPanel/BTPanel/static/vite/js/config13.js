import{b as a,h as t,f as n,_ as l,u as e,d as o}from"./public.js?v=1752142539265";import{k as i,P as s,r,U as u,X as c,V as f,Q as p,at as d,ah as m,W as g,a2 as _,j as v,a3 as y}from"./vue.js?v=1752142539265";import{w as j,m as x,g2 as b}from"./page_layout.js?v=1752142539265";import{K as w,L as W,M as h,N as S,O as C}from"./setting.js?v=1752142539265";import{_ as k}from"./index100.js?v=1752142539265";import{aq as $,ay as P,bX as B}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";const U={class:"p-20px"},L={class:"flex mb-16px"},E={class:"flex-1 mr-16px"},K="uri_find",X=i({__name:"config",setup(i){const{t:X}=s(),q=r(""),A=async()=>{""!==q.value.trim()?(await h({url_find:q.value}),q.value="",Q()):x.error(X("Waf.Setting.config_176"))},D=()=>{const a=r("");e({title:X("Waf.Setting.config_177"),width:440,footer:!0,content:()=>p("div",{class:"p-20px"},[p(k,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:X("Waf.Setting.config_178")},null)]),onConfirm:async()=>{if(""===a.value.trim())return x.error(X("Waf.Setting.config_179")),!1;await S({pdata:a.value,json:1}),Q()}})},H=()=>{const a=r(M.data.map((a=>a.url)).join("\n"));e({title:X("Waf.Setting.config_177"),width:440,footer:!0,content:()=>p("div",{class:"p-20px"},[p(k,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(b(a.value,"".concat(K,".json")),!1)})},I=()=>{o({title:X("Waf.Setting.config_180"),content:X("Waf.Setting.config_181"),onConfirm:async()=>{await C({type:K}),Q()}})},{table:M,columns:N,setLoading:O}=a([{key:"url",title:"URL"},t({width:80,options:a=>[{label:X("Public.Btn.Del"),onClick:async()=>{await w({url_find:a.url}),Q()}}]})]),Q=async()=>{try{O(!0);const{message:a}=await W();j(a)&&(M.data=a.map((a=>({url:a}))))}finally{O(!1)}};return Q(),(a,t)=>{const e=$,o=P,i=n,s=B,r=l;return c(),u("div",U,[f("div",L,[f("div",E,[p(e,{value:g(q),"onUpdate:value":t[0]||(t[0]=a=>m(q)?q.value=a:null),placeholder:a.$t("Waf.Setting.config_173"),onKeyup:d(A,["enter"])},null,8,["value","placeholder"])]),p(o,{type:"primary",onClick:A},{default:_((()=>[v(y(a.$t("Public.Btn.Add")),1)])),_:1})]),p(i,{"max-height":258,loading:g(M).loading,data:g(M).data,columns:g(N)},null,8,["loading","data","columns"]),p(s,{class:"mt-16px"},{default:_((()=>[p(o,{onClick:D},{default:_((()=>[v(y(a.$t("Public.Btn.Import")),1)])),_:1}),p(o,{onClick:H},{default:_((()=>[v(y(a.$t("Public.Btn.Export")),1)])),_:1}),p(o,{onClick:I},{default:_((()=>[v(y(a.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),p(r,{class:"mt-16px"},{default:_((()=>[f("li",null,y(a.$t("Waf.Setting.config_174")),1),f("li",null,y(a.$t("Waf.Setting.config_175")),1)])),_:1})])}}});export{X as default};


