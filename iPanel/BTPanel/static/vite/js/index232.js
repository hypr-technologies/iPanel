const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index259.js?v=1752142539265","js/page_layout.js?v=1752142539265","js/vue.js?v=1752142539265","js/__commonjsHelpers__.js?v=1752142539265","js/naive.js?v=1752142539265","js/common.js?v=1752142539265","js/public.js?v=1752142539265","css/public.css?v=1752142539265","css/page_layout.css?v=1752142539265","js/index.js?v=1752142539265","css/index96.css?v=1752142539265","js/index102.js?v=1752142539265","css/index19.css?v=1752142539265","js/ssl.js?v=1752142539265","js/cert.js?v=1752142539265","js/index100.js?v=1752142539265","css/index17.css?v=1752142539265","js/index127.js?v=1752142539265","css/index21.css?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265","css/index16.css?v=1752142539265","js/utils3.js?v=1752142539265","js/index208.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang.js?v=1752142539265","js/paypal-js.js?v=1752142539265","css/index44.css?v=1752142539265","js/ssl-lets-progress.js?v=1752142539265","css/ssl-lets-progress.css?v=1752142539265","js/site.js?v=1752142539265","js/index184.js?v=1752142539265","css/index25.css?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang11.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265","js/theme-chrome.js?v=1752142539265","js/file.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang9.js?v=1752142539265","js/index96.js?v=1752142539265","css/index13.css?v=1752142539265","js/index252.js?v=1752142539265","js/new.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang5.js?v=1752142539265","js/index.vue_vue_type_script_setup_true_lang6.js?v=1752142539265","js/soft.js?v=1752142539265","js/index101.js?v=1752142539265","css/index18.css?v=1752142539265","css/index95.css?v=1752142539265","js/index260.js?v=1752142539265"])))=>i.map(i=>d[i]);
import{i as e,o as t,g8 as a,g9 as n,w as l,m as i,ga as o,de as s,gb as d,gc as c,gd as r,ge as u,gf as p,gg as _,gh as m,e as x,a$ as v,W as f,V as g,X as y,n as w,gi as b,d as h,di as j,dj as k,gj as C,g4 as N,gk as S,g5 as $,O as R,gl as U,f as P,a as D}from"./page_layout.js?v=1752142539265";import{_ as T}from"./index184.js?v=1752142539265";import{i as I,p as L,Q as q,k as M,P as A,r as B,U as F,X as O,V as z,a2 as E,a3 as H,ah as K,W as V,j as W,e as X,a1 as G,an as J,q as Q,o as Z,F as Y,O as ee,H as te,c as ae,n as ne,$ as le,_ as ie,w as oe}from"./vue.js?v=1752142539265";import{d as se,G as de,b as ce,c as re,f as ue,h as pe,q as _e,_ as me,u as xe}from"./public.js?v=1752142539265";import{_ as ve}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import{_ as fe}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1752142539265";import{_ as ge}from"./index100.js?v=1752142539265";import{ay as ye,aq as we,bX as be,c1 as he,cD as je,cz as ke,bZ as Ce,_ as Ne,by as Se}from"./naive.js?v=1752142539265";import{_ as $e}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import{_ as Re}from"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import{_ as Ue}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1752142539265";import{v as Pe}from"./index252.js?v=1752142539265";import{o as De}from"./new.js?v=1752142539265";import{_ as Te}from"./index101.js?v=1752142539265";import{_ as Ie}from"./index102.js?v=1752142539265";import{aH as Le,aI as qe,a as Me,aJ as Ae,g as Be,aK as Fe}from"./site.js?v=1752142539265";import{_ as Oe}from"./index.js?v=1752142539265";const ze=Symbol("site-config");function Ee(){return I(ze)}const{t:He}=e.global;function Ke({delDomain:e}){return{key:"action",title:He("Public.Table.Action"),width:80,align:"right",render:t=>q(de,{options:[{label:He("Public.Btn.Del"),onClick:()=>{se({title:"".concat(He("Site.Batch.index_12"),"[").concat(t.name,"]"),content:He("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const Ve={class:"flex justify-between items-center mb-24px"},We={class:"w-400px"},Xe={class:"pr-40px"},Ge=M({__name:"index",setup(e,{expose:s}){const{t:d}=A(),{data:c}=Ee(),r=B(""),u=async()=>{""!==r.value.trim()?(await o({project_name:c.name,domains:r.value.trim().split("\n").map((e=>e.trim())).filter((e=>e))}),r.value="",w()):i.error(d("Site.RulesError.index_31"))},p=async e=>{await a({project_name:c.name,domain:e.name}),w()},{keys:_,table:m,columns:x}=ce([{type:"selection",width:40},{key:"name",title:He("Site.TableRow.index_19"),render:e=>q(t,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:He("Site.TableRow.index_16"),width:100},Ke({delDomain:p})]),v=()=>{m.data.length>1?x.value[x.value.length-1]=Ke({delDomain:p}):x.value[x.value.length-1]={key:"action",title:He("Public.Table.Action"),width:80,align:"right",render:()=>q("span",{class:"text-default"},[He("Config.Panel.index_82")])}},f=[{key:"del",type:"confirm",label:d("Site.Batch.index_20"),confirm:{title:d("Site.Batch.index_21"),desc:d("Site.Batch.index_11"),api:e=>a({project_name:c.name,domain:e.name},!1),done:()=>{w()},columns:[{key:"name",title:d("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:g,setLoading:y}=re(),w=async()=>{try{y(!0);const{message:e}=await n({project_name:c.name});m.data=l(e)?e:[],v()}finally{_.value=[],y(!1)}};return w(),s({init:w}),(e,t)=>{const a=ge,n=ye,l=ue,i=fe,o=ve;return O(),F("div",null,[z("div",Ve,[z("div",We,[q(a,{value:V(r),"onUpdate:value":t[0]||(t[0]=e=>K(r)?r.value=e:null)},{default:E((()=>[z("p",null,H(e.$t("Site.Config.index_30")),1),z("p",null,H(e.$t("Site.Config.index_31")),1),z("p",null,H(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),z("div",Xe,[q(n,{type:"primary",onClick:u},{default:E((()=>[W(H(e.$t("Site.Cert.index_62")),1)])),_:1})])]),q(o,null,{table:E((()=>[q(l,{"checked-row-keys":V(_),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>K(_)?_.value=e:null),loading:V(g),"max-height":400,data:V(m).data,columns:V(x)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:E((()=>[q(i,{"checked-row-keys":V(_),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>K(_)?_.value=e:null),data:V(m).data,options:f},null,8,["checked-row-keys","data"])])),_:1})])}}}),Je=M({__name:"index",setup(e,{expose:t}){const{t:a}=A(),{data:n}=Ee(),o=s(),_=X({module:""}),m=async()=>{""!==_.module?(await u({project_name:n.name,mod_name:_.module}),b(),_.module=""):i.error(a("Node.index_72"))},x=async()=>{await p({project_name:n.name}),b()},{keys:v,table:f,columns:g}=ce([{key:"name",title:a("Node.index_46"),ellipsis:{tooltip:{width:"trigger"}}},{key:"version",title:a("Site.TableRow.index_3"),width:80},{key:"license",title:a("Node.index_47"),width:80,render:e=>"object"==typeof e.license&&null!==e.license?e.license.type:e.license},{key:"description",title:a("Docker.Container.config.image.index_11"),ellipsis:{tooltip:{width:"trigger"}}},pe({width:130,options:e=>[{label:a("Home.index_5"),onClick:()=>{_e({title:a("Node.index_48"),content:a("Node.index_49",[e.name]),onConfirm:async()=>{await d({project_name:n.name,mod_name:e.name}),b()}})}},{label:a("Public.Btn.Uninstall"),onClick:()=>{_e({title:a("Node.index_50"),content:a("Node.index_51",[e.name]),onConfirm:async()=>{await c({project_name:n.name,mod_name:e.name}),b()}})}}]})]),{loading:y,setLoading:w}=re(),b=async()=>{try{w(!0);const{message:e}=await r({project_name:n.name,project_cwd:o.nodePath});l(e)&&(f.data=e)}finally{v.value=[],w(!1)}},h=async()=>{await o.getConfig(!1),b()};return h(),t({init:h}),(e,t)=>{const a=we,n=ye,l=be,i=ue,o=ve;return O(),F("div",null,[q(l,{class:"justify-between!"},{default:E((()=>[z("div",null,[q(a,{class:"w-240px!",value:V(_).module,"onUpdate:value":t[0]||(t[0]=e=>V(_).module=e),placeholder:e.$t("Node.index_45")},null,8,["value","placeholder"]),q(n,{type:"primary",onClick:m},{default:E((()=>[W(H(e.$t("Docker.App.index_4")),1)])),_:1})]),z("div",null,[V(f).data.length?J("",!0):(O(),G(n,{key:0,type:"primary",onClick:x},{default:E((()=>[W(H(e.$t("Node.index_74")),1)])),_:1}))])])),_:1}),q(o,{class:"mt-16px"},{table:E((()=>[q(i,{"checked-row-keys":V(v),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>K(v)?v.value=e:null),loading:V(y),"max-height":440,data:V(f).data,columns:V(g)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})])}}}),Qe=M({__name:"index",setup(e,{expose:t}){const{t:a}=A(),{data:n}=Ee(),l=s(),i=B(!0),o=async e=>{i.value=!e;const t=a("Node.index_42"),o=a("Node.index_80"),s=a("Node.index_81");se({title:t,content:e?s:o,onConfirm:async({hide:t})=>{e?await m({project_name:n.name,domains:l.domains}):await _({project_name:n.name}),i.value=e,t()}})},{loading:d,setLoading:c}=re(),r=async()=>{try{c(!0),await l.getConfig(!1),i.value=l.isMapping}finally{c(!1)}};return r(),t({init:r}),(e,t)=>{const a=he,n=be,l=me;return O(),F("div",null,[q(n,{class:"items-center"},{default:E((()=>[z("span",null,H(e.$t("Node.index_42")),1),q(a,{value:V(i),"onUpdate:value":[t[0]||(t[0]=e=>K(i)?i.value=e:null),o],"rubber-band":!1,loading:V(d)},null,8,["value","loading"])])),_:1}),q(l,{class:"mt-16px"},{default:E((()=>[z("li",null,H(e.$t("Node.index_43")),1),z("li",null,H(e.$t("Node.index_44")),1)])),_:1})])}}}),Ze={class:"relative h-full"},Ye={key:0,class:"install-box"},et={class:"install-desc"},tt=x(M({__name:"index",props:{active:{type:Boolean,default:!0}},setup:e=>(e,t)=>(O(),F("div",Ze,[Q(e.$slots,"default",{},void 0,!0),e.active?J("",!0):(O(),F("div",Ye,[z("div",et,[Q(e.$slots,"desc",{},void 0,!0)])]))]))}),[["__scopeId","data-v-3fa52c5e"]]),at={class:"mt-8px"},nt=M({__name:"index",setup(e,{expose:a}){const{data:n}=Ee(),l=v(),i=s(),o=B(null),d=()=>{i.activeMenu="mapping"},c=B((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/node_").concat(n.name,".conf")})()),r=async()=>{var e;await i.getConfig(),null==(e=o.value)||e.getContent()},u=()=>{var e;null==(e=o.value)||e.saveFile()};return Z((()=>{r()})),a({init:r}),(e,a)=>{const n=t,l=ye,s=me,r=tt;return O(),G(r,{active:V(i).isMapping},{desc:E((()=>[z("span",null,[W(H(e.$t("Node.index_55"))+" ",1),q(n,{onClick:d},{default:E((()=>[W(H(e.$t("Node.index_42")),1)])),_:1}),W(" "+H(e.$t("Node.index_56")),1)])])),default:E((()=>[z("div",null,[q($e,{ref_key:"configRef",ref:o,path:V(c),"onUpdate:path":a[0]||(a[0]=e=>K(c)?c.value=e:null),height:"500"},null,8,["path"]),z("div",at,[q(l,{type:"primary",onClick:u},{default:E((()=>[W(H(e.$t("Site.Cert.index_60")),1)])),_:1})]),q(s,{class:"mt-16px"},{default:E((()=>[z("li",null,H(e.$t("Site.Config.index_59")),1),z("li",null,H(e.$t("Site.Config.index_60")),1)])),_:1})])])),_:1},8,["active"])}}}),{t:lt}=e.global,it=B([{label:lt("Config.Alarm.index_43"),value:"name"},{label:lt("Component.UploadFile.index_5"),value:"status"},{label:lt("Ftp.Analysis.Index_27"),value:"user"},{label:lt("Public.Search.StartTime"),value:"create_time",isTime:!0},{label:"PID",value:"pid"},{label:"PPID",value:"ppid"},{label:lt("Node.index_75"),value:"threads"},{label:"Socket",value:"connects"},{label:"CPU",value:"cpu_percent"},{label:"RAM",value:"memory_used",isSize:!0},{label:"Disk/R",value:"io_read_bytes",isSize:!0},{label:"Disk/W",value:"io_write_bytes",isSize:!0},{label:lt("Term.index_24"),value:"exe"}]),ot={class:"my-16px"},st={class:"my-16px"},dt=x(M({__name:"index",setup(e,{expose:a}){const{t:n}=A(),{data:l}=Ee(),i=s(),o=()=>{i.activeMenu="service"},d=B(!0),c=B(""),r=B([]),u=e=>{const t=k.value[e];p.value=t,m.data=t.connections,v.data=t.open_files},p=B(),_=e=>{if(!p.value)return;const t=p.value[e.value];return void 0===t?"--":e.isTime?y(t):e.isSize?w(t):t},{table:m,columns:x}=ce([{key:"client_addr",title:n("Node.index_77")},{key:"client_rport",title:n("Node.index_78")},{key:"family",title:n("Docker.Container.create.port_4")},{key:"fd",title:"FD",width:"50px"},{key:"local_addr",title:n("Node.index_79")},{key:"status",title:n("Component.UploadFile.index_5")}]),{table:v,columns:j}=ce([{key:"path",title:n("Logs.Soft.index_3")},{key:"mode",title:n("Site.TableRow.index_12"),width:"50px"},{key:"position",title:n("Database.tools.index_76"),width:"100px"},{key:"flags",title:"Flags",width:"100px"},{key:"fd",title:"FD",width:"50px"}]),k=B({}),{loading:C,setLoading:N}=re(),S=async()=>{try{N(!0);const{message:e}=await b({project_name:l.name});if(h(e)){if(d.value=e.run,0===Object.keys(e.load_info).length)return;k.value=e.load_info,r.value=Object.keys(e.load_info).map((e=>({label:e,value:e}))),c.value=r.value[0].value,u(c.value)}}finally{N(!1)}};return S(),a({init:S}),(e,a)=>{const n=t,l=je,i=be,s=g,p=f,y=ue,w=tt;return O(),G(w,{active:V(d)},{desc:E((()=>[z("span",null,[W(H(e.$t("Node.index_64"))+" ",1),q(n,{onClick:o},{default:E((()=>[W(H(e.$t("Node.index_65")),1)])),_:1})])])),default:E((()=>[z("div",null,[q(i,{class:"items-center"},{default:E((()=>[a[1]||(a[1]=z("span",null,"PID",-1)),q(l,{class:"w-150px!",value:V(c),"onUpdate:value":[a[0]||(a[0]=e=>K(c)?c.value=e:null),u],loading:V(C),options:V(r)},null,8,["value","loading","options"])])),_:1,__:[1]}),q(p,{"label-placement":"left",bordered:"",column:4,class:"mt-16px"},{default:E((()=>[(O(!0),F(Y,null,ee(V(it),(e=>(O(),G(s,{label:e.label,key:e.value},{default:E((()=>[W(H(_(e)),1)])),_:2},1032,["label"])))),128))])),_:1}),z("div",ot,H(e.$t("Docker.Container.create.index_31")),1),q(y,{"max-height":150,data:V(m).data,columns:V(x)},null,8,["data","columns"]),z("div",st,H(e.$t("Node.index_76")),1),q(y,{"max-height":150,data:V(v).data,columns:V(j)},null,8,["data","columns"])])])),_:1},8,["active"])}}}),[["__scopeId","data-v-9c2e6736"]]),ct=M({__name:"index",setup(e,{expose:t}){const{data:a}=Ee(),{t:n}=A(),l=s(),o=B(!0),d=()=>{se({title:n("Node.index_58"),content:o.value?n("Node.index_70"):n("Node.index_59"),onConfirm:async()=>{o.value?await k({project_name:a.name}):await j({project_name:a.name}),r(),l.setRefresh(!0)}})},c=()=>{se({title:n("Node.index_58"),content:n("Node.index_60"),onConfirm:async()=>{await C({project_name:a.name}),r()}})},r=async()=>{i.loading(n("Component.Api.index_1")),await l.getConfig(!1),o.value=l.isRun,i.clear()};return r(),t({init:r}),(e,t)=>{const a=be,l=ye;return O(),F(Y,null,[q(a,{class:"items-center",size:0},{default:E((()=>[W(H(e.$t("Node.index_57"))+"："+H(V(o)?e.$t("Public.Status.Start"):e.$t("Public.Status.Stop")),1),z("span",{class:te(["iconfont","icon-".concat(V(o)?"start":"stop")])},null,2)])),_:1}),q(a,{class:"mt-16px"},{default:E((()=>[q(l,{onClick:d},{default:E((()=>[W(H(V(o)?e.$t("Public.Status.Stop"):e.$t("Public.Status.Start")),1)])),_:1}),q(l,{onClick:c},{default:E((()=>[W(H(V(n)("Public.Status.Restart")),1)])),_:1})])),_:1})],64)}}}),rt={class:"w-360px"},ut={class:"w-360px"},pt={class:"w-200px"},_t={class:"ml-10px text-default"},mt={class:"w-440px"},xt={class:"w-200px"},vt={class:"ml-10px text-default"},ft={class:"w-150px"},gt={class:"ml-10px text-default"},yt={class:"w-150px"},wt={class:"ml-10px text-default"},bt={class:"w-440px"},ht=M({__name:"index",setup(e,{expose:a}){const{t:n}=A(),o=s(),d=B(null),c=B(""),r=X({project_cwd:"/www/wwwroot",project_name:"",project_script:"",project_script_two:"",port:null,run_user:"www",nodejs_version:null,project_ps:"",boot:!1}),u={project_cwd:{trigger:["blur","input"],required:!0,message:n("Node.index_28")},project_name:{trigger:["blur","input"],required:!0,message:n("Node.index_29")},project_script:{trigger:["change"],required:!0,message:n("Node.index_30")},project_script_two:{trigger:["blur","input"],required:!0,message:n("Node.index_31")},port:Pe(),nodejs_version:{trigger:["change"],required:!0,message:n("Node.index_32")}},p=()=>{const e=r.project_cwd.split("/"),t=e[e.length-1];r.project_name=t,r.project_ps=t,c.value=r.project_cwd,m()},_=B([]),m=async()=>{const{message:e}=await N({project_cwd:r.project_cwd});if(h(e)){const t=Object.keys(e).map((t=>({label:"".concat(t," [").concat(e[t],"]"),value:t})));t.find((e=>e.value==r.project_script))||(r.project_script_two=r.project_script,r.project_script="custom"),t.push({label:n("Node.index_33"),value:"custom"}),_.value=t}},x=[{label:"www",value:"www"},{label:"root",value:"root"}],v=B([]),f=e=>{r.project_ps=e},g=async()=>{var e;await(null==(e=d.value)?void 0:e.validate());const t=(()=>{var e;return{project_cwd:r.project_cwd,project_name:r.project_name,project_script:"custom"===r.project_script?r.project_script_two:r.project_script,port:null==(e=r.port)?void 0:e.toString(),run_user:r.run_user,nodejs_version:r.nodejs_version,project_ps:r.project_ps,is_power_on:r.boot?1:0}})();await S(t),o.setRefresh(!0)},y=async()=>{await(async()=>{const{message:e}=await b({project_name:o.siteName});h(e)&&(r.project_cwd=e.path,c.value=e.path,r.project_name=e.name,r.project_script=e.project_config.project_script,r.port=e.project_config.port,r.run_user=e.project_config.run_user,r.nodejs_version=e.project_config.nodejs_version,r.project_ps=e.ps,r.boot=!!Number(e.project_config.is_power_on))})(),m(),(async()=>{const{message:e}=await $();l(e)&&e.length>0?v.value=e.map((e=>({label:e,value:e}))):i.error({close:!0,content:n("Node.index_34"),onClose:()=>{De()}})})()};return y(),a({init:y}),(e,a)=>{const n=Ue,l=ke,i=we,o=je,s=Ce,m=t,y=Ne,w=ye,b=Re,h=me;return O(),F("div",null,[q(b,{ref_key:"formRef",ref:d,model:V(r),rules:u},{default:E((()=>[q(l,{label:e.$t("Docker.Container.index_17"),path:"project_cwd"},{default:E((()=>[z("div",rt,[q(n,{value:V(r).project_cwd,"onUpdate:value":a[0]||(a[0]=e=>V(r).project_cwd=e),readonly:!0,onChange:p},null,8,["value"])])])),_:1},8,["label"]),q(l,{label:e.$t("Config.Alarm.index_43"),path:"project_name"},{default:E((()=>[z("div",ut,[q(i,{disabled:"",value:V(r).project_name,"onUpdate:value":[a[1]||(a[1]=e=>V(r).project_name=e),f],placeholder:e.$t("Node.index_11")},null,8,["value","placeholder"])])])),_:1},8,["label"]),q(l,{label:e.$t("Node.index_12"),path:"project_script","show-feedback":!("custom"===V(r).project_script)},{default:E((()=>[z("div",pt,[q(o,{value:V(r).project_script,"onUpdate:value":a[2]||(a[2]=e=>V(r).project_script=e),placeholder:e.$t("Node.index_13"),options:V(_)},null,8,["value","placeholder","options"])]),z("div",_t,"* "+H(e.$t("Node.index_14")),1)])),_:1},8,["label","show-feedback"]),"custom"===V(r).project_script?(O(),G(l,{key:0,class:"mt-8px",label:" ",path:"project_script_two"},{default:E((()=>[z("div",mt,[q(n,{defaultPath:V(c),"checked-type":["file"],value:V(r).project_script_two,"onUpdate:value":a[3]||(a[3]=e=>V(r).project_script_two=e)},null,8,["defaultPath","value"])])])),_:1})):J("",!0),q(l,{label:e.$t("Docker.Container.create.index_7"),path:"port"},{default:E((()=>[z("div",xt,[q(s,{value:V(r).port,"onUpdate:value":a[4]||(a[4]=e=>V(r).port=e),min:1,max:65535,"show-button":!1,placeholder:e.$t("Node.index_15")},null,8,["value","placeholder"])]),z("div",vt,"* "+H(e.$t("Node.index_15")),1)])),_:1},8,["label"]),q(l,{label:e.$t("Ftp.Analysis.Index_27")},{default:E((()=>[z("div",ft,[q(o,{value:V(r).run_user,"onUpdate:value":a[5]||(a[5]=e=>V(r).run_user=e),options:x},null,8,["value"])]),z("div",gt,"* "+H(e.$t("Node.index_16")),1)])),_:1},8,["label"]),q(l,{label:"Node",path:"nodejs_version"},{default:E((()=>[z("div",yt,[q(o,{value:V(r).nodejs_version,"onUpdate:value":a[6]||(a[6]=e=>V(r).nodejs_version=e),options:V(v)},null,8,["value","options"])]),z("div",wt,[z("span",null,"* "+H(e.$t("Node.index_17"))+", ",1),q(m,{onClick:V(De)},{default:E((()=>[W(H(e.$t("Node.index_18")),1)])),_:1},8,["onClick"])])])),_:1}),q(l,{label:e.$t("Docker.Container.create.index_46"),path:"project_ps"},{default:E((()=>[z("div",bt,[q(i,{value:V(r).project_ps,"onUpdate:value":a[7]||(a[7]=e=>V(r).project_ps=e),placeholder:e.$t("Node.index_19")},null,8,["value","placeholder"])])])),_:1},8,["label"]),q(l,{label:e.$t("Node.index_52")},{default:E((()=>[q(y,{checked:V(r).boot,"onUpdate:checked":a[8]||(a[8]=e=>V(r).boot=e)},{default:E((()=>[W(H(e.$t("Node.index_53")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),q(l,{label:" "},{default:E((()=>[q(w,{type:"primary",onClick:g},{default:E((()=>[W(H(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),q(h,{class:"mt-8px"},{default:E((()=>[z("li",null,H(e.$t("Node.index_24")),1),z("li",null,H(e.$t("Node.index_25")),1),z("li",null,H(e.$t("Node.index_26")),1),z("li",null,H(e.$t("Node.index_27")),1)])),_:1})])}}}),jt=M({__name:"index",setup(e,{expose:t}){const{data:a}=Ee(),n=B("None"),{loading:l,setLoading:i}=re(),o=async()=>{try{i(!0);const{message:e}=await U({project_name:a.name});h(e)&&(n.value=P(e.result)?e.result:"None")}finally{i(!1)}};return o(),t({init:o}),(e,t)=>{const a=Te,i=R;return O(),G(i,{class:"h-full",show:V(l)},{default:E((()=>[q(a,{log:V(n)},null,8,["log"])])),_:1},8,["show"])}}}),kt=M({__name:"index",setup(e,{expose:t}){const{data:a}=Ee(),n=s(),l=B("None"),{loading:i,setLoading:o}=re(),d=async()=>{await n.getConfig();try{o(!0);const{message:e}=await Le({siteName:a.name});h(e)&&(l.value=P(e.result)?e.result:"None")}finally{o(!1)}};return d(),t({init:d}),(e,t)=>{const a=Te,n=R;return O(),G(n,{class:"h-560px",show:V(i)},{default:E((()=>[q(a,{log:V(l)},null,8,["log"])])),_:1},8,["show"])}}}),Ct=M({__name:"index",setup(e,{expose:t}){const{data:a}=Ee(),n=B("None"),{loading:l,setLoading:i}=re(),o=async()=>{try{i(!0);const{message:e}=await qe({siteName:a.name});h(e)&&(n.value=P(e.result)?e.result:"None")}finally{i(!1)}};return o(),t({init:o}),(e,t)=>{const a=Te,i=R;return O(),G(i,{class:"h-560px",show:V(l)},{default:E((()=>[q(a,{log:V(n)},null,8,["log"])])),_:1},8,["show"])}}}),Nt=M({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:n}=t.data,l=B(""),{loading:i,setLoading:o}=re();return(async()=>{try{o(!0);const{message:e}=await Me({type:a,path:n});h(e)&&(l.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=Te,n=R;return O(),G(n,{class:"w-650px h-550px bg-#282C34",show:V(i)},{default:E((()=>[q(a,{log:V(l)},null,8,["log"])])),_:1},8,["show"])}}}),St={class:"text-error"},$t={class:"w-400px p-20px"},Rt={class:"mb-16px"},Ut=M({__name:"index",setup(e,{expose:a}){const{t:n}=A(),l=v(),{data:o}=Ee(),s=ae((()=>{let e="";switch(l.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(o.name).concat(e)})),d=ae((()=>{const e=s.value.split("/");return e[e.length-1]})),c=()=>{se({title:n("Site.Config.index_104"),content:"".concat(n("Site.Config.index_105")," [").concat(d.value,"] ").concat(n("Site.Config.index_106")),onConfirm:async({hide:e})=>{try{await Ae({path:s.value}),e(),p()}catch(t){e()}}})},r=B(!1),u=B(0),p=async()=>{r.value=!0,_()},_=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await Be({path:s.value});h(e)&&(u.value=e.result,u.value>=100?(i.success(n("Site.Config.index_107")),r.value=!1,u.value=0,w(),clearTimeout(t)):_(1e3))}),e)},m=e=>{xe({title:"[".concat(e,"] ").concat(n("Site.Config.index_103")),data:{type:e,path:s.value},component:Nt})},{table:x,columns:f}=ce([{key:"start_time",title:n("Site.Cert.index_68")},{key:"time",title:n("Site.DelSite.index_6"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:n("Site.TableRow.index_4"),render:e=>e.xss>0?q("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:n("Site.TableRow.index_5"),render:e=>e.sql>0?q("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:n("Site.TableRow.index_6"),render:e=>e.san>0?q("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:n("Site.TableRow.index_27"),render:e=>e.php>0?q("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:n("Site.TableRow.index_7"),render:e=>e.ip>0?q(t,{onClick:()=>{m("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:n("Site.TableRow.index_8"),render:e=>e.url>0?q(t,{onClick:()=>{m("url")}},{default:()=>[e.url]}):e.url}]),{loading:g,setLoading:y}=re(),w=async()=>{try{y(!0);const{message:e}=await Fe({path:s.value});h(e)&&(x.data=[e])}finally{y(!1)}},b=()=>{w()};return b(),a({init:b}),(e,a)=>{const n=ye,l=ue,i=ve,o=me,s=Se,d=Oe;return O(),F("div",null,[q(i,null,{toolsLeft:E((()=>[q(n,{type:"primary",onClick:c},{default:E((()=>[W(H(e.$t("Site.Config.index_104")),1)])),_:1})])),table:E((()=>[q(l,{loading:V(g),"loading-num":1,data:V(x).data,columns:V(f)},null,8,["loading","data","columns"])])),_:1}),q(o,{class:"mt-16px"},{default:E((()=>[z("li",null,[W(H(e.$t("Site.Config.index_108"))+" ",1),z("span",St,H(e.$t("Site.Config.index_109")),1)]),z("li",null,H(e.$t("Site.Config.index_110")),1),z("li",null,H(e.$t("Site.Config.index_111")),1),z("li",null,H(e.$t("Site.Config.index_112")),1),z("li",null,[q(t,{href:"https://www.iPanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:E((()=>[W(H(e.$t("Site.Config.index_113")),1)])),_:1}),W(" "+H(e.$t("Site.Config.index_114")),1)])])),_:1}),q(d,{show:V(r),"onUpdate:show":a[0]||(a[0]=e=>K(r)?r.value=e:null)},{default:E((()=>[z("div",$t,[z("div",Rt,H(e.$t("Site.Config.index_115")),1),q(s,{type:"line",status:"success",height:24,percentage:V(u),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Pt=M({__name:"index",setup(e,{expose:a}){const{t:n}=A(),{config:l}=Ee(),i=s(),o=()=>{i.activeMenu="mapping"},d=B("access"),c=B(),r=[{key:"access",label:n("Site.Config.index_100"),component:kt},{key:"error",label:n("Site.Config.index_101"),component:Ct},{key:"security",label:n("Site.Config.index_102"),component:Ut}];return d.value=l.subMenu||"access",l.subMenu="",a({init:()=>{d.value="access",ne((()=>{var e;null==(e=c.value)||e.init()}))}}),(e,a)=>{const n=t,l=Ie,s=tt;return O(),G(s,{active:V(i).isMapping},{desc:E((()=>[z("span",null,[W(H(e.$t("Node.index_55"))+" ",1),q(n,{onClick:o},{default:E((()=>[W(H(e.$t("Node.index_42")),1)])),_:1}),W(" "+H(e.$t("Node.index_56")),1)])])),default:E((()=>[q(l,{value:V(d),"onUpdate:value":a[0]||(a[0]=e=>K(d)?d.value=e:null),ref_key:"tabsRef",ref:c,options:r},null,8,["value"])])),_:1},8,["active"])}}}),Dt={class:"h-full"},Tt=M({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=A(),a=s(),{siteName:n}=le(a),l=ie((()=>D((()=>import("./index259.js?v=1752142539265")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])))),i=ie((()=>D((()=>import("./index260.js?v=1752142539265")),__vite__mapDeps([47,9,2,3,5,6,1,4,8,7,10,24,35,29,33,34,30,31,19,20,21,32,15,16,36,37,38,39,40,17,18,41,42,43,44,45,11,12])))),o=e,{siteInfo:d,config:c}=o;n.value=o.siteInfo.name;const r=B();d&&L(ze,{data:d,config:c});const u=B("project"),p=[{key:"project",label:t("Node.index_61"),component:ht},{key:"domain",label:t("Site.Config.index_1"),component:Ge},{key:"mapping",label:t("Node.index_42"),component:Qe},{key:"rewrite",label:t("Site.Config.index_7"),component:i},{key:"config",label:t("Site.Config.index_10"),component:nt},{key:"ssl",label:()=>q(Y,null,[t("Site.Config.index_11")]),component:l},{key:"load",label:t("Home.index_30"),component:dt},{key:"service",label:t("Config.Safe.index_54"),component:ct},{key:"module",label:t("Node.index_46"),component:Je},{key:"project log",label:t("Node.index_62"),component:jt},{key:"logs",label:t("Node.index_63"),component:Pt}];return oe((()=>a.activeMenu),(e=>{e&&(a.setMenu(),u.value=e)})),u.value=c.menu||"project",c.menu="",Z((()=>{window.siteConfigInit=r.value.init})),(e,t)=>{const a=T;return O(),F("div",Dt,[q(a,{value:V(u),"onUpdate:value":t[0]||(t[0]=e=>K(u)?u.value=e:null),ref_key:"tabsRef",ref:r,data:p},null,8,["value"])])}}}),It=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));export{tt as _,It as i,Ee as u};
