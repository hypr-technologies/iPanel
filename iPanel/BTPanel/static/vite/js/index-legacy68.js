System.register(["./index-legacy102.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./index-legacy127.js?v=1752142539265","./index-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1752142539265","./public-legacy.js?v=1752142539265","./utils-legacy3.js?v=1752142539265","./index-legacy208.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1752142539265","./transition-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./paypal-js-legacy.js?v=1752142539265"],(function(e,t){"use strict";var a,n,i,o,s,l,r,d,c,u,_,h,p,w,m,y,g,S,f,x,v,L,k,b,j,C,E,U,B,D,I,R,P,T,N,V,M,z,A,O,F,q,X,$,G,H,Q,W,J,K,Y,Z,ee;return{setters:[e=>{a=e._},e=>{n=e.k,i=e.$,o=e.P,s=e.e,l=e.Q,r=e.j,d=e.a1,c=e.X,u=e.a2,_=e.W,h=e.a3,p=e.V,w=e._,m=e.r,y=e.b,g=e.U,S=e.u,f=e.ah},e=>{x=e.u,v=e.X,L=e.d,k=e.o,b=e._,j=e.a},e=>{C=e._},e=>{E=e._},e=>{U=e._},e=>{B=e._},e=>{D=e.e,I=e.b,R=e.h,P=e.a0,T=e.d,N=e.a1,V=e.a2,M=e.f,z=e._,A=e.n,O=e.a3,F=e.a4,q=e.a5,X=e.a6},e=>{$=e.u,G=e.i,H=e.r},e=>{Q=e.A},e=>{W=e.c1,J=e.ay,K=e.b$,Y=e.cA},e=>{Z=e._},e=>{ee=e.T},null,null,null,null,null],execute:function(){const te=n({__name:"index",setup(e){const a=w((()=>j((()=>t.import("./index-legacy203.js?v=1752142539265")),void 0))),n=w((()=>j((()=>t.import("./index-legacy204.js?v=1752142539265")),void 0))),m=w((()=>j((()=>t.import("./dns-verification-legacy.js?v=1752142539265")),void 0))),y=x(),{userInfo:g}=i(y),{t:S}=o(),f=s({p:1,limit:10}),q=D(S("SSL.Business.index_41"),{onRefresh:(e,t)=>{Y.data.request=!0,Y.data.uc_id=t,Y.data.verify=e,Y.show=!0,ae()}}),X=D(S("SSL.index_44")),H=D(S("SSL.index_49"),{onRefresh:()=>{ae()}}),Y=D(S("SSL.Business.index_42"),{onRefresh:()=>{ae()}}),{table:Z,columns:ee}=I([{key:"provider",title:S("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:S("SSL.index_53"),render:e=>l("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:S("Site.Cert.index_44"),render:e=>e.order_info.title},$({title:S("SSL.index_54")}),{key:"proxy",title:S("SSL.index_55"),render:e=>void 0!==e.auto_renew?l(W,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await O({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null):l("span",null,[r("--")])},{key:"alarm",title:S("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?l(W,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await F({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null):l("span",null,[r("--")])},{key:"create_time",title:S("Docker.Container.index_9"),render:e=>v(e.order_info.create_time)},G(((e,t)=>{H.data.row=e,H.show=!0,H.data.menu=t})),{key:"order_status",title:S("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?l("span",{class:"color-warning"},[S("SSL.Business.index_45")]):"PENDING"===t.order_status&&1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_46")]):"COMPLETE"===t.order_status&&1===t.status?l("span",{class:"color-#20a53a"},[S("SSL.Business.index_47")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_48")]):"FAILED"===t.order_status&&1===t.status?l("span",{class:"color-error"},[S("SSL.Business.index_49")]):"EXPIRED"===t.order_status&&1===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_50")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?l("span",{class:"color-warning"},[S("SSL.Business.index_52")]):void 0:l("span",{class:"color-warning"},[S("SSL.Business.index_51")]):l("span",{class:"color-warning cursor-pointer",onClick:()=>te(e)},[S("SSL.Business.index_44")])}},R({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:S("SSL.Business.index_53"),onClick:()=>{te(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:S("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await P({uc_id:e.order_info.uc_id});L(t)&&(Y.data.uc_id=e.order_info.uc_id,Y.data.verify=t.data,Y.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:S("SSL.index_58"),onClick:async()=>{H.data.row=e,H.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:S("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:S("Public.Btn.Del"),onClick:()=>{T({title:S("SSL.index_59"),content:S("SSL.index_60"),onConfirm:async()=>{await N({hash:e.hash}),ae()}})}}]})]),te=e=>{q.data.row=e,q.show=!0},ae=async()=>{try{Z.loading=!0;const{message:e}=await V(f);L(e)&&(Z.data=e.data,Z.total=e.total)}finally{Z.loading=!1}};return g.value.status&&ae(),(e,t)=>{const i=J,o=b,s=k,w=z,y=K,x=M,v=B,L=U,j=E,D=C;return c(),d(D,{install:_(g).status},{desc:u((()=>[t[7]||(t[7]=p("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),l(i,{type:"primary",onClick:_(A)},{default:u((()=>[r(h(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:u((()=>[l(L,null,{toolsLeft:u((()=>[l(i,{type:"primary",onClick:t[0]||(t[0]=e=>_(X).show=!0)},{default:u((()=>[r(h(_(S)("SSL.index_44")),1)])),_:1}),l(y,{trigger:"hover"},{trigger:u((()=>[l(o,{name:"base-info",size:18,color:"#999"})])),default:u((()=>[l(w,null,{default:u((()=>[t[9]||(t[9]=p("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=p("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=p("li",null,"Apply for www.iPanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (iPanel.com) is required, otherwise the verification will fail",-1)),p("li",null,[t[8]||(t[8]=r("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ")),l(s,{target:"_blank",href:"https://www.iPanel.com/docs/Function/BusinessCertificate.html"},{default:u((()=>[r(h(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1,__:[9,10,11]})])),_:1})])),table:u((()=>[l(x,{loading:_(Z).loading,data:_(Z).data,columns:_(ee)},null,8,["loading","data","columns"])])),pageRight:u((()=>[l(v,{page:_(f).p,"onUpdate:page":t[1]||(t[1]=e=>_(f).p=e),"page-size":_(f).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>_(f).limit=e),"item-count":_(Z).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),l(j,{show:_(X).show,"onUpdate:show":t[3]||(t[3]=e=>_(X).show=e),title:_(X).title,data:_(X).data,"min-height":250,component:Q},null,8,["show","title","data"]),l(j,{show:_(q).show,"onUpdate:show":t[4]||(t[4]=e=>_(q).show=e),title:_(q).title,data:_(q).data,width:650,"min-height":450,component:_(a)},null,8,["show","title","data","component"]),l(j,{show:_(H).show,"onUpdate:show":t[5]||(t[5]=e=>_(H).show=e),title:_(H).title,data:_(H).data,width:720,height:530,component:_(n)},null,8,["show","title","data","component"]),l(j,{show:_(Y).show,"onUpdate:show":t[6]||(t[6]=e=>_(Y).show=e),title:_(Y).title,data:_(Y).data,width:650,"min-height":450,component:_(m)},null,8,["show","title","data","component"])])),_:1},8,["install"])}}}),ae=n({__name:"index",setup(e){const a=w((()=>j((()=>t.import("./index-legacy205.js?v=1752142539265")),void 0))),n=w((()=>j((()=>t.import("./index-legacy206.js?v=1752142539265")),void 0))),i=w((()=>j((()=>t.import("./index-legacy207.js?v=1752142539265")),void 0))),d=w((()=>j((()=>t.import("./index-legacy204.js?v=1752142539265")),void 0))),p=w((()=>j((()=>t.import("./ssl-log-legacy.js?v=1752142539265")),void 0))),{t:f}=o(),x=D(f("SSL.index_48"),{onRefresh:()=>{ae()}}),v=D(f("SSL.index_44"),{onRefresh:()=>{ae()},onOpenLog:e=>{Y(e)}}),b=D(f("SSL.index_45"),{onRefresh:()=>{ae()}}),C=D(f("SSL.index_49"),{onRefresh:()=>{ae()}}),P=D(f("SSL.index_50")),V=s({p:1,limit:10,is_order:0,search:""}),z=()=>{V.p=1,ae()},A=()=>{T({title:f("SSL.index_51"),content:f("SSL.index_52"),onConfirm:async()=>{await X(),ae()}})},{table:Q,columns:K}=I([H((e=>{Y(e)})),{key:"ssl_type",title:f("SSL.index_53"),render:e=>l("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},$({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>l(W,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await O({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>l(W,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await F({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null)},G(((e,t)=>{C.data.row=e,C.show=!0,C.data.menu=t})),{key:"last_apply_time",title:f("SSL.index_56")},{key:"last_apply_log",title:f("SSL.index_57"),align:"center",render:e=>{let t;return e.log?l(k,{onClick:()=>{Y(e.log)}},"function"==typeof(a=t=f("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(a)&&!S(a)?t:{default:()=>[t]}):"--";var a}},R({width:250,options:e=>[{label:f("SSL.index_58"),onClick:async()=>{C.data.row=e,C.show=!0}},{label:f("Mail.Mass.index_61"),onClick:()=>{x.data.row=e,x.show=!0}},{label:f("Public.Btn.Del"),onClick:()=>{T({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await N({hash:e.hash}),ae()}})}}]})]),Y=e=>{P.data.path=e,P.show=!0};let ee=null;const te=m(!1),ae=async()=>{try{te.value||(Q.loading=!0);const{message:e}=await q(V);L(e)&&(te.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),te.value?ne():ee&&clearTimeout(ee),Q.data=e.data,Q.total=e.total)}finally{Q.loading=!1}},ne=async()=>{ee=window.setTimeout((()=>{ae()}),5e3)};return ae(),y((()=>{ee&&clearTimeout(ee)})),(e,t)=>{const o=J,s=Z,w=M,m=B,y=U,S=E;return c(),g("div",null,[l(y,null,{toolsLeft:u((()=>[l(o,{type:"primary",onClick:t[0]||(t[0]=e=>_(v).show=!0)},{default:u((()=>[r(h(_(f)("SSL.index_44")),1)])),_:1}),l(o,{onClick:t[1]||(t[1]=e=>_(b).show=!0)},{default:u((()=>[r(h(_(f)("SSL.index_45")),1)])),_:1}),l(o,{onClick:A},{default:u((()=>[r(h(_(f)("SSL.index_46")),1)])),_:1})])),toolsRight:u((()=>[l(s,{value:_(V).search,"onUpdate:value":t[2]||(t[2]=e=>_(V).search=e),onSearch:z},null,8,["value"])])),table:u((()=>[l(w,{loading:_(Q).loading,data:_(Q).data,columns:_(K)},null,8,["loading","data","columns"])])),pageRight:u((()=>[l(m,{page:_(V).p,"onUpdate:page":t[3]||(t[3]=e=>_(V).p=e),"page-size":_(V).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>_(V).limit=e),"item-count":_(Q).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),l(S,{show:_(v).show,"onUpdate:show":t[5]||(t[5]=e=>_(v).show=e),title:_(v).title,data:_(v).data,width:550,"min-height":250,footer:!0,component:_(a),"confirm-text":_(f)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),l(S,{show:_(x).show,"onUpdate:show":t[6]||(t[6]=e=>_(x).show=e),title:_(x).title,data:_(x).data,width:650,footer:!1,component:_(i)},null,8,["show","title","data","component"]),l(S,{show:_(b).show,"onUpdate:show":t[7]||(t[7]=e=>_(b).show=e),title:_(b).title,data:_(b).data,width:800,"min-height":500,footer:!0,component:_(n)},null,8,["show","title","data","component"]),l(S,{show:_(P).show,"onUpdate:show":t[8]||(t[8]=e=>_(P).show=e),title:_(P).title,data:_(P).data,width:650,"min-height":450,component:_(p)},null,8,["show","title","data","component"]),l(S,{show:_(C).show,"onUpdate:show":t[9]||(t[9]=e=>_(C).show=e),title:_(C).title,data:_(C).data,width:720,height:530,component:_(d)},null,8,["show","title","data","component"])])}}});e("default",n({__name:"index",setup(e){const{t:t}=o(),n=x(),{userInfo:s}=i(n),r=m("business"),h=[{key:"business",label:t("SSL.index_9"),component:te},{key:"let-encrypt",label:"Let's Encrypt",component:ae}];return(e,t)=>{const n=a,i=Y;return _(s).status?(c(),d(i,{key:0,class:"p-16px"},{default:u((()=>[l(n,{value:_(r),"onUpdate:value":t[0]||(t[0]=e=>f(r)?r.value=e:null),options:h},null,8,["value"])])),_:1})):(c(),d(ee,{key:1}))}}}))}}}));


