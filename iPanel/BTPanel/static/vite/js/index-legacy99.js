System.register(["./vue-legacy.js?v=1752142539265","./accountState-legacy.js?v=1752142539265","./public-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./quota-legacy.js?v=1752142539265","./disk-legacy.js?v=1752142539265"],(function(a,t){"use strict";var e,i,c,n,l,o,s,r,u,_,d,m,g,k,p,h,y,b,f,v,x;return{setters:[a=>{e=a.S,i=a.P,c=a.e,n=a.r,l=a.Q,o=a.$},a=>{s=a.b,r=a.u},a=>{u=a.c,_=a.d,d=a.h},a=>{m=a.$,g=a.d,k=a.m,p=a.a0,h=a.a1,y=a.a2,b=a.n,f=a.X},a=>{v=a.a},a=>{x=a.u}],execute:function(){const t=a("b",e("packageStore",(()=>{const a=S(),{t:t}=i(),e=async()=>{try{n(!0);const{message:t}=await m(a.search);g(t)&&(a.table.data=t.list,a.table.total=t.page.count)}finally{n(!1)}},{loading:c,setLoading:n}=u();function l(){const{package_name:t,disk_space_quota:e,monthly_bandwidth_limit:i,max_site_limit:c,max_database:n,php_start_children:l,php_max_children:o,remark:s}=a.formData;return{package_name:t,disk_space_quota:e.unlimited?0:String(1024*Number(e.value)*1024),monthly_bandwidth_limit:i.unlimited?0:String(1024*Number(i.value)*1024),max_site_limit:c.unlimited?0:c.value,max_database:n.unlimited?0:n.value,max_email_account:0,php_start_children:l,php_max_children:o,remark:s}}return{init:e,loading:c,setLoading:n,removePackage:async a=>{_({title:t("Account.Package.package-988835-0",[a.package_name]),content:t("Account.Package.package-988835-1"),onConfirm:async()=>{1!==a.status?(await p({package_id:a.package_id}),e()):k.error(t("Account.Package.package-988835-2"))}})},create_package:async function(){a.isEdit=!1,a.addVisible=!0,a.formData_reset()},editPackage:async function(t){!function(t){const{package_name:e,disk_space_quota:i,monthly_bandwidth_limit:c,max_site_limit:n,max_database:l,php_start_children:o,php_max_children:s,remark:r}=t;a.formData.package_name=e,a.formData.disk_space_quota=0==i?{value:"",unlimited:!0}:{value:i/1024/1024,unlimited:!1},a.formData.monthly_bandwidth_limit=0==c?{value:"",unlimited:!0}:{value:c/1024/1024,unlimited:!1},a.formData.max_site_limit=0==n?{value:"",unlimited:!0}:{value:n,unlimited:!1},a.formData.max_database=0==l?{value:"",unlimited:!0}:{value:l,unlimited:!1},a.formData.php_start_children=o,a.formData.php_max_children=s,a.formData.remark=r}(t),a.current_account_id=t.package_id,a.isEdit=!0,a.addVisible=!0},packageInfoConfirm:async function(){try{await(a.packageFormRef?.validate()),a.isEdit?(await h({package_id:a.current_account_id,...l()}),a.formData_reset(),e()):(await y(l()),a.formData_reset(),e())}catch(t){return Promise.reject(t)}}}}))),S=a("u",e("packageStateStore",(()=>{const a=t(),{t:e}=i(),o=c({data:[],total:0,loading:!1}),r=n([{title:e("Account.Package.packageState-592272-0"),key:"package_name",width:150},{title:e("Account.Package.packageState-592272-1"),key:"php_start_children",width:80,render:a=>l("div",null,[0===a.max_site_limit?l("img",{class:"icon",title:"",src:v},null):a.max_site_limit])},{title:e("Account.Account.accountState-721844-3"),key:"disk_space_quota",render:a=>l("div",null,[0===a.disk_space_quota?l("img",{class:"icon",title:"",src:v},null):b(a.disk_space_quota,!0,0)])},{title:e("Account.Package.packageState-592272-2"),key:"monthly_bandwidth_limit",render:a=>l("div",null,[0===a.monthly_bandwidth_limit?l("img",{class:"icon",title:"",src:v},null):b(a.monthly_bandwidth_limit,!0,0)])},{title:e("Account.Account.accountState-721844-14"),key:"remark",render:a=>a.remark?a.remark:"--"},{title:e("Account.Package.packageState-592272-7"),key:"create_time",render:a=>f(a.create_time)},d({title:e("Public.Table.Action"),align:"right",width:200,options:t=>[{label:e("Account.Package.packageState-592272-8"),onClick:async()=>a.editPackage(t)},{label:e("Account.Package.packageState-592272-9"),onClick:async()=>{a.removePackage(t)}}]})]),u=n([]),_=c({p:1,rows:10,search_value:""}),m=n(!1),g=n(!1),[k,p]=s(),h=n(0),y=n(0),x=n(null),S=n();return{search:_,table:o,columns:r,keys:u,addVisible:m,formData:p,PackageInfoForm:()=>k,formData_reset:function(){p.package_name="",p.disk_space_quota={value:0,unlimited:!0},p.monthly_bandwidth_limit={value:0,unlimited:!0},p.max_site_limit={value:0,unlimited:!0},p.max_database={value:0,unlimited:!0},p.php_start_children=1,p.php_max_children=3,p.remark=""},packageFormRef:S,isEdit:g,disk_space_quota_cache:h,monthly_bandwidth_limit_cache:y,current_account_id:x}}))),w=a("c",e("logsStateStore",(()=>{const{t:a}=i(),t=c({data:[],total:0,loading:!1}),e=n([{title:a("Account.Logs.logsState-131428-0"),key:"log_type",width:150},{title:a("Account.Logs.logsState-131428-1"),key:"log_level",width:100},{title:a("Account.Logs.logsState-131428-2"),key:"status",width:100,render:t=>t.log_status?l("span",{class:"text-primary"},[a("Account.Logs.logsState-456809-0")]):l("span",{class:"text-error"},[a("Account.Logs.logsState-456809-1")])},{title:a("Account.Logs.logsState-131428-3"),key:"log_body",render:t=>l("div",{class:"flex"},[t.username?l("div",{class:"text-[#909399]"},[a("Account.Account.account_533924-0")+" ["+t.username+"]--\x3e"]):"",l("div",null,[t.log_body])])},{key:"log_time",align:"right",title:a("Logs.Panel.index_7"),render:a=>f(a.log_time)}]),o=n([]);return{search:c({p:1,rows:10,search:""}),table:t,columns:e,keys:o}})));a("a",e("account-store",(()=>{const a=r(),t=o(a),e=S(),i=o(e),c=x(),l=w(),s=o(l);return{install:n(!1),account:{...t},w_package:{...i},disk:{...c},logs:{...s}}})))}}}));
