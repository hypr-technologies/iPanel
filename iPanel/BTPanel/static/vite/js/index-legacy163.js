System.register(["./index-legacy102.js?v=1752142539265","./index-legacy101.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./public-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265"],(function(e,a){"use strict";var l,c,n,s,o,t,u,d,r,i,m,p,_,g,v,x,f,b,k,y,D,I,L,h,w,j,$,C,U,z;return{setters:[e=>{l=e._},e=>{c=e._},e=>{n=e._},e=>{s=e.k,o=e.P,t=e.e,u=e.r,d=e.c,r=e.U,i=e.X,m=e.Q,p=e.V,_=e.a2,g=e.W,v=e.at,x=e.j,f=e.a3,b=e.ah},e=>{k=e.bf,y=e.f,D=e.m,I=e.bK,L=e.w,h=e.fz},e=>{w=e.z},e=>{j=e.cz,$=e.cD,C=e.ar,U=e.aq,z=e.ay},null,null],execute:function(){const a={class:"pt-4px"},R={class:"w-440px"},E={class:"w-440px"},K={class:"px-2px py-4px"},M={class:"h-420px"},q=s({__name:"index",setup(e){const{t:l}=o(),s=k(),b=t({name:null,image:""}),h={name:{trigger:"change",validator:()=>null!==b.name||new Error(l("Docker.LocalImage.pull.index_8"))},image:{trigger:["input","blur"],validator:()=>""!==b.image||new Error(l("Docker.LocalImage.pull.index_9"))}},q=u(null),H=u(l("Docker.LocalImage.pull.index_10")),P=u(!1),Q=u([]),S=async()=>{await(q.value?.validate()),H.value="",V.value=!0,X(),F()},V=u(!1),W=d((()=>V.value)),{open:X,send:A,close:B}=w("/ws_model",{immediate:!1,onMessage:(e,a)=>{const{data:c}=a;if(y(c)&&(H.value+=a.data,c.includes("successful")||c.includes("failed"))){V.value=!1;const e={status:c.includes("successful"),msg:c.includes("successful")?l("Docker.Container.create.command_7"):l("Docker.Container.create.command_6")};e.status?(D.success(e.msg),s.setRefresh(!0)):D.error(e.msg),B()}}}),F=()=>{A({model_index:"btdocker",mod_name:"image",def_name:"pull_from_some_registry",ws_callback:111,name:b.name,image:b.image})};return(async()=>{try{P.value=!0;const{message:e}=await I();L(e)&&e.length>0&&(Q.value=e.map((e=>({label:e.name,value:e.name}))),b.name=e[0].name)}finally{P.value=!1}})(),(e,l)=>{const s=$,o=j,t=U,u=z,d=C,k=n,y=c;return i(),r("div",a,[m(k,{ref_key:"formRef",ref:q,model:g(b),rules:h},{default:_((()=>[m(o,{label:e.$t("Docker.LocalImage.pull.index_3"),path:"name"},{default:_((()=>[p("div",R,[m(s,{value:g(b).name,"onUpdate:value":l[0]||(l[0]=e=>g(b).name=e),loading:g(P),disabled:g(W),options:g(Q)},null,8,["value","loading","disabled","options"])])])),_:1},8,["label"]),m(o,{label:e.$t("Docker.LocalImage.pull.index_4"),path:"image"},{default:_((()=>[p("div",E,[m(d,null,{default:_((()=>[m(t,{value:g(b).image,"onUpdate:value":l[1]||(l[1]=e=>g(b).image=e),disabled:g(W),placeholder:e.$t("Docker.LocalImage.pull.index_5"),onKeyup:v(S,["enter"])},null,8,["value","disabled","placeholder"]),m(u,{type:"primary",disabled:g(W),onClick:S},{default:_((()=>[x(f(e.$t("Docker.LocalImage.pull.index_6")),1)])),_:1},8,["disabled"])])),_:1})])])),_:1},8,["label"])])),_:1},8,["model"]),p("div",K,f(e.$t("Docker.LocalImage.pull.index_7")),1),p("div",M,[m(y,{log:g(H)},null,8,["log"])])])}}}),H={class:"pt-4px"},P={class:"px-2px py-4px"},Q={class:"h-456px"},S=s({__name:"index",setup(e){const{t:a}=o(),l=k(),n=t({cmd:""}),s=u(a("Docker.LocalImage.pull.index_10")),v=u(!1),b=d((()=>v.value)),I=async()=>{if(""!==n.cmd.trim())try{v.value=!0,s.value=a("Docker.Container.create.command_8"),await h({cmd:n.cmd}),L(),R()}catch(e){v.value=!1,console.error(e)}else D.error(a("Docker.LocalImage.pull.index_13"))},{open:L,send:j,close:$}=w("/ws_model",{immediate:!1,onMessage:(e,c)=>{const{data:n}=c;if(y(n)&&(s.value+=c.data,n.includes("bt_successful")||n.includes("bt_failed"))){v.value=!1;const e={status:n.includes("bt_successful"),msg:n.includes("bt_successful")?a("Docker.Container.create.command_7"):a("Docker.Container.create.command_6")};e.status?(D.success(e.msg),l.setRefresh(!0)):D.error(e.msg),$()}}}),R=()=>{j({model_index:"btdocker",mod_name:"image",def_name:"get_cmd_log",ws_callback:111,name:"",image:""})};return(e,a)=>{const l=U,o=z,t=C,u=c;return i(),r("div",H,[m(t,{class:"mb-16px"},{default:_((()=>[m(l,{value:g(n).cmd,"onUpdate:value":a[0]||(a[0]=e=>g(n).cmd=e),disabled:g(b),placeholder:e.$t("Docker.LocalImage.pull.index_11")},null,8,["value","disabled","placeholder"]),m(o,{type:"primary",disabled:g(b),onClick:I},{default:_((()=>[x(f(e.$t("Docker.LocalImage.pull.index_12")),1)])),_:1},8,["disabled"])])),_:1}),p("div",P,f(e.$t("Docker.LocalImage.pull.index_7")),1),p("div",Q,[m(u,{log:g(s)},null,8,["log"])])])}}}),V={class:"p-16px"};e("default",s({__name:"index",setup(e){const{t:a}=o(),c=u("normal"),n=[{key:"normal",label:a("Docker.LocalImage.pull.index_1"),component:q},{key:"command",label:a("Docker.LocalImage.pull.index_2"),component:S}];return(e,a)=>{const s=l;return i(),r("div",V,[m(s,{value:g(c),"onUpdate:value":a[0]||(a[0]=e=>b(c)?c.value=e:null),options:n},null,8,["value"])])}}}))}}}));
