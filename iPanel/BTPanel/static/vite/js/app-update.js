import{_ as e}from"./index.js?v=1752142539265";import{e as t,_ as a}from"./public.js?v=1752142539265";import{u as s,p as l,c as n,d as i,cq as o,m as r,bZ as p,e as u}from"./page_layout.js?v=1752142539265";import{c as _}from"./soft.js?v=1752142539265";import{g as m}from"./soft2.js?v=1752142539265";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang18.js?v=1752142539265";import{bX as d,cI as f,ay as v}from"./naive.js?v=1752142539265";import{k as x,P as j,r as h,U as y,an as w,W as g,X as b,Q as k,V as H,a2 as S,a3 as P,j as $}from"./vue.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import"./theme-chrome.js?v=1752142539265";import"./file.js?v=1752142539265";const I={key:0,class:"p-30px"},T=["src"],U=["title"],W={class:"color-#888888"},q={class:"font-600 mt-30px"},C=["innerHTML"],L=u(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(u){const{t:x}=j(),L=s(),M=u,{row:N}=M,X=["nginx","apache","mysql","php"],O=h(),Q=h(),R=h(),V=async(e=1)=>{var t;const{message:a}=await o({sName:N.name,version:5===R.value?N.m_version:Q.value,upgrade:5===R.value?N.m_version:Q.value,type:e});if(i(a)){if(a.result)return r.success(a.result),L.taskCount+=1,null==(t=M.callback)||t.call(M),M.hide(),void p();await _({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=M.callback)||e.call(M)}))}M.hide()},Z=()=>{var e;(e=N.name,X.includes(e)||e.startsWith("php-"))?z.show=!0:V(1)},z=t(x("Home.Install.index_7"),{name:N.name,callback:()=>{V(0)}});return(async()=>{const{message:e}=await n({sName:N.name},!0);i(e)&&(R.value=e.type,Q.value=N.m_version+"."+N.version,O.value=e.version)})(),(t,s)=>{const n=f,i=d,o=v,r=l,p=a,u=e;return g(N)?(b(),y("div",I,[k(i,{class:"justify-between! items-center"},{default:S((()=>[k(i,{class:"items-center"},{default:S((()=>[H("img",{class:"w-40px",src:g(m)(g(N).name)},null,8,T),H("div",null,[H("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(g(N).title," ").concat(g(O))},P(g(N).title)+" "+P(g(N).title.indexOf("PHP-")>-1?"":g(O)),9,U),k(n,{dot:""},{default:S((()=>[H("p",W,P(t.$t("Soft.index_51"))+"："+P(g(Q)),1)])),_:1})])])),_:1}),k(i,null,{default:S((()=>[k(o,{type:"primary",onClick:Z},{default:S((()=>[$(P(t.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),k(r)])),_:1}),H("div",q,P(g(x)("Soft.index_52"))+"：",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:g(N).update_msg},null,8,C),k(p,null,{default:S((()=>[H("li",null,P(t.$t("Soft.index_35")),1),H("li",null,P(g(x)("Soft.index_53")),1),H("li",null,P(g(x)("Soft.index_54")),1)])),_:1}),k(u,{show:g(z).show,"onUpdate:show":s[0]||(s[0]=e=>g(z).show=e),title:g(z).title,data:g(z).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):w("",!0)}}}),[["__scopeId","data-v-5996c66a"]]);export{L as default};
