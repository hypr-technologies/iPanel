System.register(["./public-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./site-legacy.js?v=1752142539265","./index-legacy224.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265"],(function(e,t){"use strict";var n,s,a,i,l,o,r,u,c,d,_,p,g,v,m,P,y,x,f,h,S,j,w,H;return{setters:[e=>{n=e.c,s=e._,a=e.u},e=>{i=e._},e=>{l=e.w,o=e.d,r=e.m},e=>{u=e.at,c=e.aM},e=>{d=e.u},e=>{_=e._},e=>{p=e.k,g=e.P,v=e.e,m=e.r,P=e.U,y=e.X,x=e.Q,f=e.a2,h=e.V,S=e.W,j=e.a3},e=>{w=e.cz,H=e.cD},null,null],execute:function(){const t={class:"p-20px"},b={class:"w-200px"};e("default",p({__name:"php",props:{data:{}},setup(e,{expose:p}){const{t:E}=g(),$=e,{rows:M}=$.data,k=d(),q=v({version:null}),R={version:{trigger:"change",validator:()=>null!==q.version||new Error(E("Site.PHP.add_site_27"))}},U=m([]),{loading:z,setLoading:C}=n();(async()=>{try{C(!0);const{message:e}=await u();l(e)&&e.length>0?(U.value=e.map((e=>({label:e.name,value:e.version}))),q.version=e[0].version):(q.version=null,U.value=[])}finally{C(!1)}})();const D=()=>{const{version:e}=q;if(null===e)throw r.error(E("Site.PHP.index_67")),new Error(E("Site.PHP.index_67"));return{version:e,sites_id:M.map((e=>e.id)).join(",")}};return p({onConfirm:async({hide:e})=>{const{message:t}=await c(D());k.setRefresh(!0),o(t)&&(e=>{const{success:t,error:n}=e,s=[];t.forEach((e=>{const t=M.find((t=>t.name===e));t&&s.push({name:t.name,batchStatus:"success",reqMsg:E("Site.PHP.index_64")})})),Object.entries(n).forEach((([e,t])=>{const n=M.find((t=>t.name===e));n&&s.push({name:n.name,batchStatus:"error",reqMsg:t})})),a({title:E("Site.PHP.index_65"),width:440,footer:!0,component:_,data:{title:E("Site.PHP.index_66"),data:s,status:"done",columns:[{key:"name",title:E("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})})(t),e()}}),(e,n)=>{const a=H,l=w,o=i,r=s;return y(),P("div",t,[x(o,{model:S(q),rules:R},{default:f((()=>[x(l,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:f((()=>[h("div",b,[x(a,{value:S(q).version,"onUpdate:value":n[0]||(n[0]=e=>S(q).version=e),loading:S(z),options:S(U)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),x(r,{class:"mt-8px"},{default:f((()=>[h("li",null,j(e.$t("Site.PHP.index_61")),1),h("li",null,j(e.$t("Site.PHP.index_62")),1),h("li",null,j(e.$t("Site.PHP.index_63")),1)])),_:1})])}}}))}}}));
