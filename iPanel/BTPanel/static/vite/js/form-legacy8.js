System.register(["./public-legacy.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265"],(function(e,a){"use strict";var l,s,i,n,t,u,r,o,p,d,m,_,c,v,h,f,y,g,k,b,S,w,D,x,P,L,j,I,$;return{setters:[e=>{l=e.c,s=e._,i=e.V,n=e.ao,t=e.ap},e=>{u=e.o,r=e.O,o=e.w},e=>{p=e._},e=>{d=e.k,m=e.P,_=e.r,c=e.c,v=e.e,h=e.a1,f=e.X,y=e.a2,g=e.Q,k=e.an,b=e.W,S=e.l,w=e.V,D=e.v,x=e.j,P=e.a3},e=>{L=e.cz,j=e.c1,I=e.cD,$=e.aq},null,null],execute:function(){const a={class:"w-300px"},A={class:"w-300px"},C={class:"w-300px"};e("default",d({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:d,emit:U}){const F=e,N=U,{isEdit:q,row:B}=F,{t:E}=m(),T=_(null),K=_([]),V=c((()=>"CloudFlareDns"===H.name)),W=c((()=>"NameSiloDns"!==H.name&&"global"===H.permission)),z=c((()=>"PorkBunDns"===H.name)),H=v({name:"",api_user:"",api_key:"",alias:"",permission:"global",status:1}),O={api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==H.name&&!a)||new Error(E("SSL.Domain.index_1"))},api_key:{required:!0,trigger:"blur",message:E("SSL.Domain.index_2")},alias:{required:!0,trigger:"blur",message:E("SSL.Domain.index_6")}},Q=e=>{"CloudFlareDns"!==e&&"limit"===H.permission&&(H.permission="global"),T.value?.restoreValidation()},R=_(""),X=_(!0),G=()=>{X.value&&(H.api_user="")},J=()=>{!H.api_user&&X.value?H.api_user=R.value:H.api_user&&(X.value=!1)},M=()=>({id:q&&B?B.id:null,name:q&&B&&H.name===B.name?null:H.name,api_user:q&&B&&H.api_user===B.api_user?null:W.value?H.api_user:"",api_key:q&&B&&H.api_key===B.api_key?null:H.api_key,permission:q&&B&&H.permission===B.permission?null:"CloudFlareDns"===H.name?H.permission:"",status:q&&B&&H.status===B.status?null:H.status,alias:q&&B&&H.alias===B.alias?null:H.alias}),{loading:Y,setLoading:Z}=l();return(async()=>{try{Z(!0);const{message:e}=await t();o(e)&&e.length>0&&(H.name=e[0],K.value=e.map((e=>({label:e,value:e}))))}finally{(()=>{const{row:e,isEdit:a}=F;a&&e&&(H.name=e.name,H.api_user=e.api_user,R.value=e.api_user,H.api_key=e.api_key,H.permission=e.permission,H.status=e.status,H.alias=e.alias)})(),Z(!1)}})(),d({onConfirm:async()=>{await(T.value?.validate()),q&&B?await i(M()):await n(M()),N("refresh")}}),(e,l)=>{const i=j,n=L,t=I,o=$,d=p,m=u,_=s,c=r;return f(),h(c,{class:"p-20px",show:b(Y)},{default:y((()=>[g(d,{ref_key:"formRef",ref:T,model:b(H),rules:O},{default:y((()=>[g(n,{label:e.$t("Public.Table.Status"),path:"status"},{default:y((()=>[g(i,{value:b(H).status,"onUpdate:value":l[0]||(l[0]=e=>b(H).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),g(n,{label:e.$t("Config.Alarm.index_43"),path:"name"},{default:y((()=>[g(t,{class:"w-300px",value:b(H).name,"onUpdate:value":[l[1]||(l[1]=e=>b(H).name=e),Q],options:b(K),disabled:b(q)},null,8,["value","options","disabled"])])),_:1},8,["label"]),b(W)?(f(),h(n,{key:0,label:b(z)?"Secret Key":"API User",path:"api_user"},{default:y((()=>[w("div",a,[g(o,{value:b(H).api_user,"onUpdate:value":l[2]||(l[2]=e=>b(H).api_user=e),placeholder:b(z)?"Please enter Secret Key":e.$t("SSL.Domain.index_1"),onFocus:G,onBlur:J},null,8,["value","placeholder"])])])),_:1},8,["label"])):k("",!0),g(n,{label:"API Key",path:"api_key"},{default:y((()=>[w("div",A,[g(o,{value:b(H).api_key,"onUpdate:value":l[3]||(l[3]=e=>b(H).api_key=e),placeholder:e.$t("SSL.Domain.index_2")},null,8,["value","placeholder"])])])),_:1}),g(n,{label:e.$t("Config.Panel.index_36"),path:"alias"},{default:y((()=>[w("div",C,[g(o,{value:b(H).alias,"onUpdate:value":l[4]||(l[4]=e=>b(H).alias=e),placeholder:e.$t("SSL.Domain.index_6")},null,8,["value","placeholder"])])])),_:1},8,["label"]),S(g(n,{label:"API-Limit",path:"permission"},{default:y((()=>[g(i,{value:b(H).permission,"onUpdate:value":l[5]||(l[5]=e=>b(H).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])])),_:1},512),[[D,b(V)]])])),_:1},8,["model"]),b(V)?(f(),h(_,{key:0},{default:y((()=>[w("li",null,[g(m,{target:"_blank",href:"https://www.iPanel.com/forum/d/3375-3375-set-the-clouldflare-apt-token-for-dns-editing-permissions"},{default:y((()=>[x(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):k("",!0),"NameCheapDns"===b(H).name?(f(),h(_,{key:1},{default:y((()=>[l[6]||(l[6]=w("li",null," Namecheap API needs added in Whitelisted IPs (only IPv4): Profile > Tools menu > Namecheap API Access > Whitelisted IPs, please check: ",-1)),w("li",null,[g(m,{target:"_blank",href:"https://www.namecheap.com/support/api/intro/"},{default:y((()=>[x(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1,__:[6]})):k("",!0),"NameSiloDns"===b(H).name||"PorkBunDns"===b(H).name?(f(),h(_,{key:2},{default:y((()=>[w("li",null,[g(m,{target:"_blank",href:"https://www.iPanel.com/docs/Function/Tutorial/DNS_API_Tutorial.html"},{default:y((()=>[x(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):k("",!0)])),_:1},8,["show"])}}}))}}}));


