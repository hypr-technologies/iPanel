import{_ as t}from"./index97.js?v=1752142539265";import{k as e,$ as a,o as n,a1 as s,X as i,a2 as o,an as r,W as l,j as c,Q as u,a3 as p,V as m}from"./vue.js?v=1752142539265";import{Q as d,U as _,R as f}from"./page_layout.js?v=1752142539265";import{c3 as y,ay as g,b$ as v}from"./naive.js?v=1752142539265";import"./index98.js?v=1752142539265";import"./public.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";const x=["innerHTML"],b=e({__name:"index",setup(e){const{getUpdateVersion:b,getInfo:w,getApiInfo:h}=d(),{version:j,newVersionInfo:A,hasNewVersion:$,isInstall:k,isUserAutoMatic:I,formToken:U,isExistWhite:M}=a(d());function T(t){return parseInt(t.replace(/\./g,""))}async function V(){if(!k.value)return;await b();const t=T(A.value.version),e=T(j.value);$.value=t>e}async function C(){await _(),await w(),V()}const H=async()=>{U.value.open||await f({t_type:2}),await f({t_type:3,limit_addr:U.value.limit_addr+"\n127.0.0.1"}),h()};return n((()=>{V(),h()})),(e,a)=>{const n=g,d=v,_=y,f=t;return i(),s(f,null,{"public-exam":o((()=>[l(k)&&l($)?(i(),s(_,{key:0,type:"warning",class:"mb-16px"},{default:o((()=>[c(p(e.$t("Account.Settings.index_17",[l(A).version]))+" "+p(e.$t("Account.Settings.index_19"))+p(l(A).uptime)+" ",1),u(n,{type:"primary",onClick:C,class:"ml-6"},{default:o((()=>[c(p(e.$t("Public.Btn.Update")),1)])),_:1}),u(d,{placement:"bottom",trigger:"hover"},{trigger:o((()=>[u(n,{size:"small",text:"",type:"primary",class:"ml-6"},{default:o((()=>[c(p(e.$t("Account.Settings.index_20")),1)])),_:1})])),default:o((()=>[m("div",{class:"large-text",innerHTML:l(A).updateMsg},null,8,x)])),_:1})])),_:1})):r("",!0),!l(M)&&l(k)?(i(),s(_,{key:1,type:"warning",class:"mb-16px"},{default:o((()=>[m("span",null,p(e.$t("Account.Account.account_533924-11")),1),u(n,{type:"primary",onClick:H,class:"ml-6"},{default:o((()=>[c(p(e.$t("Account.Account.account_533924-12")),1)])),_:1})])),_:1})):r("",!0),!l(I)&&l(k)?(i(),s(_,{key:2,type:"warning",class:"mb-16px"},{default:o((()=>[a[0]||(a[0]=m("span",null,"The current sub-panel version number is lower than 1.0.9, can not use the automatic parse function, please update the sub-panel and in the settings to enable the API and drop 127.0.0.1 to the whitelist!",-1)),u(n,{type:"primary",onClick:C,class:"ml-6"},{default:o((()=>[c(p(e.$t("Public.Btn.Update")),1)])),_:1})])),_:1,__:[0]})):r("",!0)])),_:1})}}});export{b as default};
