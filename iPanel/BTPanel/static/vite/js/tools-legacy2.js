System.register(["./page_layout-legacy.js?v=1752142539265","./public-legacy.js?v=1752142539265","./rules-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265"],(function(t,a){"use strict";var e,l,o,s,i,n,c,p,g,u,_,r,f,b;return{setters:[t=>{e=t.v,l=t.i,o=t.m,s=t.a},t=>{i=t.d,n=t.u},t=>{c=t.a},t=>{p=t.r,g=t.Q,u=t.aa,_=t.F,r=t._,f=t.u},t=>{b=t._}],execute:function(){t("g",(t=>e.post("/btwaf/attack_report_log.json",t)));const d=t("h",(t=>e.post("/btwaf/get_logs",t)));function m(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!f(t)}t("i",(()=>e.post("/plugin?action=a&name=btwaf&s=get_site_config"))),t("r",(t=>e.post("/plugin?action=a&name=btwaf&s=remove_log",{...t,site_logs:JSON.stringify(1===t.site_all?[]:t.site_logs)},{requestOptions:{loading:l.global.t("Waf.Api.block_16"),successMessage:!0}}))),t("c",(t=>e.post("/plugin?action=a&name=btwaf&s=get_safe_logs_sql",t))),t("u",(t=>e.post("/plugin?action=a&name=btwaf&s=remove_waf_drop_ip",t,{requestOptions:{loading:l.global.t("Waf.Api.block_17"),successMessage:!0}}))),t("d",(()=>e.post("/plugin?action=a&name=btwaf&s=clean_waf_drop_ip",{},{requestOptions:{loading:l.global.t("Waf.Api.block_18"),successMessage:!0}}))),t("f",(t=>e.post("/plugin?action=a&name=btwaf&s=get_rule_hit_list",t))),t("e",(()=>e.post("/plugin?action=a&name=btwaf&s=delete_rule_hit_list",{},{requestOptions:{loading:l.global.t("Waf.Api.block_19"),successMessage:!0}}))),t("j",(()=>e.post("/plugin?action=a&name=btwaf&s=get_rule_hit_type_list"))),t("k",(t=>e.post("/plugin?action=a&name=btwaf&s=set_hit_type",{data:JSON.stringify(t.data)},{requestOptions:{loading:l.global.t("Waf.Api.block_20"),successMessage:!0}}))),t("a",(t=>{const a=p(!1);i({title:l.global.t("Waf.Block.index_74"),content:()=>{let e;return g(_,null,[g(u,{tag:"div",keypath:"Waf.Block.index_82",scope:"global"},{ip:()=>g("span",{class:"text-error"},[t.ip])}),g(b,{checked:a.value,"onUpdate:checked":t=>a.value=t,class:"mt-12px"},m(e=l.global.t("Waf.Block.index_79"))?e:{default:()=>[e]})])},onConfirm:async()=>{if(a.value){const a=t.ip.replace(/\d{1,3}$/,"0/24");await(s={s_Name:"ip_black",pdata:a},e.post("/plugin?action=a&name=btwaf&s=import_data",s,{requestOptions:{loading:l.global.t("Waf.Api.block_14")}})),o.success(l.global.t("Waf.Block.index_75"))}else await c({start_ip:t.ip,end_ip:t.ip});var s}})})),t("b",((t,a=!0)=>{if("/"===t.uri)return void o.error(l.global.t("Waf.Block.index_76"));const s=p(!1);i({title:l.global.t("Waf.Block.index_77"),content:()=>{let t;return g(_,null,[g("div",null,[l.global.t("Waf.Block.index_80")]),a?g(b,{checked:s.value,"onUpdate:checked":t=>s.value=t,class:"mt-12px"},m(t=l.global.t("Waf.Block.index_81"))?t:{default:()=>[t]}):""])},onConfirm:async()=>{let a=t.http_log;if(1===t.http_log_path){const{message:e}=await d({path:t.http_log});a=e.result}var o;await(o={url_rule:t.uri,error_log:t.ip+" >> "+t.incoming_value,http_log:a,...s.value?{param:1}:{}},e.post("/plugin?action=a&name=btwaf&s=wubao_url_white",o,{requestOptions:{loading:l.global.t("Waf.Api.block_15"),successMessage:!0}}))}})})),t("s",(t=>{n({title:l.global.t("Waf.Block.index_78",[t.time_localtime]),width:840,minHeight:630,data:{row:t},component:r((()=>s((()=>a.import("./details-legacy.js?v=1752142539265")),void 0)))})}))}}}));
