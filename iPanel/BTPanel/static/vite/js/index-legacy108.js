System.register(["./index-legacy101.js?v=1752142539265","./page_layout-legacy.js?v=1752142539265","./index-legacy17.js?v=1752142539265","./public-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265","./__commonjsHelpers__-legacy.js?v=1752142539265","./index-legacy.js?v=1752142539265","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1752142539265","./backup-info-legacy.js?v=1752142539265","./utils-legacy.js?v=1752142539265","./soft-legacy.js?v=1752142539265"],(function(e,s){"use strict";var a,t,r,n,l,o,c,i,_,p,u,g,d,m,y,f,x,j,v,h,w,k,b,C;return{setters:[e=>{a=e._},e=>{t=e.o,r=e._,n=e.d},e=>{l=e.c,o=e.g},e=>{c=e.d},e=>{i=e.k,_=e.P,p=e.e,u=e.o,g=e.b,d=e.U,m=e.X,y=e.an,f=e.Q,x=e.V,j=e.a2,v=e.j,h=e.a1,w=e.W},e=>{k=e.c3,b=e.by,C=e.bX},null,null,null,null,null,null,null],execute:function(){const s={class:"p-16px"},I={class:"h-250px"};e("default",i({__name:"index",props:{onRefresh:{}},emits:["close"],setup(e,{emit:i}){const{t:R}=_(),z=i,M=e,X=p({task_msg:"",exec_log:"",progress:0}),q=()=>{c({title:R("Config.Backup.index_14"),content:R("Config.Migrate.index_24"),onConfirm:async()=>{B&&clearInterval(B),await l(),z("close")}})};let B=null;const D=async()=>{const{message:e}=await o();n(e)&&(X.task_msg=e.migrate_msg,X.exec_log=e.migrate_log,X.progress=e.migrate_progress,2!==e.run_status&&3!==e.run_status||(B&&clearInterval(B),2===e.run_status?M.onRefresh("success",{panel_addr:e.panel_addr,panel_user:e.panel_user,panel_password:e.panel_password,start_time:e.start_time,last_update:e.last_update}):M.onRefresh("error",{errData:e.err_info,start_time:e.start_time,last_update_time:e.last_update,server_ip:e.server_ip,ssh_port:e.ssh_port,ssh_user:e.ssh_user,password:e.password}),z("close")))};return u((()=>{D(),B=window.setInterval((()=>{D()}),2e3)})),g((()=>{B&&clearInterval(B)})),(e,n)=>{const l=t,o=k,c=b,i=r,_=C,p=a;return m(),d("div",s,[y("",!0),f(o,{type:"warning"},{default:j((()=>[n[1]||(n[1]=x("span",{class:"color-warning"},"Migration is in progress, please do not close the page, if you have any questions please contact us in time ",-1)),f(l,{href:"mailto:support@infuze panel.com",target:"_blank"},{default:j((()=>n[0]||(n[0]=[v("support@infuze panel.com")]))),_:1,__:[0]})])),_:1,__:[1]}),f(_,{class:"flex-nowrap! items-center my-10px",size:5},{default:j((()=>[f(c,{height:24,percentage:w(X).progress,"indicator-placement":"inside",processing:w(X).progress<100,status:"success"},null,8,["percentage","processing"]),w(X).progress<100?(m(),h(i,{key:0,name:"base-error",class:"text-error hover:text-#777777",size:20,onClick:q})):y("",!0)])),_:1}),x("div",I,[f(p,{log:w(X).exec_log},null,8,["log"])])])}}}))}}}));
