import{b as a,h as t,f as n,_ as e,u as o,d as l}from"./public.js?v=1752142539265";import{k as i,P as s,r as c,U as r,X as u,V as f,Q as d,at as p,ah as m,W as g,a2 as _,j as v,a3 as y}from"./vue.js?v=1752142539265";import{d as x,m as w,g2 as b}from"./page_layout.js?v=1752142539265";import{P as j,g as S,Q as W,R as h,S as C}from"./setting.js?v=1752142539265";import{_ as k}from"./index100.js?v=1752142539265";import{aq as P,ay as $,bX as B}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";const U={class:"p-20px"},E={class:"flex mb-16px"},Q={class:"flex-1 mr-16px"},X=i({__name:"config",setup(i){const{t:X}=s(),q=c(""),A=async()=>{""!==q.value.trim()?(await W({text:q.value}),q.value="",V()):w.error(X("Waf.Setting.config_176"))},D=()=>{const a=c("");o({title:X("Waf.Setting.config_187"),width:440,footer:!0,content:()=>d("div",{class:"p-20px"},[d(k,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:X("Waf.Setting.config_188")},null)]),onConfirm:async()=>{if(""===a.value.trim())return w.error(X("Waf.Setting.config_179")),!1;await h({text:a.value}),V()}})},H=()=>{const a=c(K.data.map((a=>a.word)).join("\n"));o({title:X("Waf.Setting.config_177"),width:440,footer:!0,content:()=>d("div",{class:"p-20px"},[d(k,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(b(a.value,"".concat("body_intercept",".json")),!1)})},I=()=>{l({title:X("Waf.Setting.config_180"),content:X("Waf.Setting.config_181"),onConfirm:async()=>{await C(),V()}})},{table:K,columns:L,setLoading:R}=a([{key:"word",title:X("Waf.Setting.config_184")},t({width:80,options:a=>[{label:X("Public.Btn.Del"),onClick:async()=>{await j({text:a.word}),V()}}]})]),V=async()=>{try{R(!0);const{message:a}=await S();x(a)&&(K.data=a.body_intercept.map((a=>({word:a}))))}finally{R(!1)}};return V(),(a,t)=>{const o=P,l=$,i=n,s=B,c=e;return u(),r("div",U,[f("div",E,[f("div",Q,[d(o,{value:g(q),"onUpdate:value":t[0]||(t[0]=a=>m(q)?q.value=a:null),placeholder:a.$t("Waf.Setting.config_184"),onKeyup:p(A,["enter"])},null,8,["value","placeholder"])]),d(l,{type:"primary",onClick:A},{default:_((()=>[v(y(a.$t("Public.Btn.Add")),1)])),_:1})]),d(i,{"max-height":258,loading:g(K).loading,data:g(K).data,columns:g(L)},null,8,["loading","data","columns"]),d(s,{class:"mt-16px"},{default:_((()=>[d(l,{onClick:D},{default:_((()=>[v(y(a.$t("Public.Btn.Import")),1)])),_:1}),d(l,{onClick:H},{default:_((()=>[v(y(a.$t("Public.Btn.Export")),1)])),_:1}),d(l,{onClick:I},{default:_((()=>[v(y(a.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),d(c,{class:"mt-16px"},{default:_((()=>[f("li",null,y(a.$t("Waf.Setting.config_185")),1),f("li",null,y(a.$t("Waf.Setting.config_186")),1)])),_:1})])}}});export{X as default};
