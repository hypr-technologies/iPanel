import{_ as a}from"./index.js?v=1752142539265";import{_ as e}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import{b as t,h as n,d as s,c as l,e as i,f as o}from"./public.js?v=1752142539265";import{dF as r,dG as d,dH as p,dI as u,d as m}from"./page_layout.js?v=1752142539265";import{_}from"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import{cz as g,aq as f,c1 as x,ay as h}from"./naive.js?v=1752142539265";import{k as v,P as w,r as b,e as y,U as S,X as k,Q as j,W as $,a2 as C,N as U,j as L,a3 as P}from"./vue.js?v=1752142539265";const R={class:"p-20px"},T=v({__name:"form",props:{data:{}},setup(a,{expose:e}){const{t:t}=w(),n=a,{getList:s,name:l}=n.data,i=b(null),o=y({name:l,args_name:"",ps:"",args:"",init:t("Soft.index_48")}),d={args_name:{required:!0,message:t("Soft.index_43"),trigger:["blur","input"]},args:{required:!0,message:t("Soft.index_46"),trigger:["blur","input"]}};return e({onConfirm:async({hide:a})=>{var e;await(null==(e=i.value)?void 0:e.validate()),await r(U(o)),null==s||s(),a()}}),(a,e)=>{const t=f,n=g,s=_;return k(),S("div",R,[j(s,{ref_key:"formRef",ref:i,model:$(o),rules:d},{default:C((()=>[j(n,{label:a.$t("Site.TableRow.index_2"),path:"args_name"},{default:C((()=>[j(t,{class:"w-280px!",value:$(o).args_name,"onUpdate:value":e[0]||(e[0]=a=>$(o).args_name=a),placeholder:a.$t("Soft.index_43")},null,8,["value","placeholder"])])),_:1},8,["label"]),j(n,{label:a.$t("Docker.Container.config.image.index_11"),path:"ps"},{default:C((()=>[j(t,{class:"w-280px!",maxlength:"30","show-count":"",value:$(o).ps,"onUpdate:value":e[1]||(e[1]=a=>$(o).ps=a),placeholder:a.$t("Soft.index_44")},null,8,["value","placeholder"])])),_:1},8,["label"]),j(n,{label:a.$t("Soft.index_45"),path:"args"},{default:C((()=>[j(t,{class:"w-280px!",value:$(o).args,"onUpdate:value":e[2]||(e[2]=a=>$(o).args=a),placeholder:a.$t("Soft.index_46")},null,8,["value","placeholder"])])),_:1},8,["label"]),j(n,{label:a.$t("Soft.index_47"),path:"init"},{default:C((()=>[j(c,{value:$(o).init,"onUpdate:value":e[3]||(e[3]=a=>$(o).init=a),height:300,"show-tips":!1,class:"w-350px"},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),q={class:"p-20px"},D=v({__name:"index",props:{data:{}},setup(r,{expose:_}){const{t:c}=w(),g=r,{name:f,callback:v}=g.data,b=()=>{N.show=!0},U=y({args_names:""}),{keys:R,table:D,columns:W}=t([{key:"name",title:c("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:c("Docker.Container.config.image.index_11"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:c("WP.TableRow.index_8"),render:a=>j(x,{value:z(a.name),"onUpdate:value":e=>B(a.name,e)},null)},n({width:100,align:"center",options:a=>[{label:c("Public.Btn.Del"),onClick:()=>{s({title:"".concat(c("Site.TableOP.index_6")," [").concat(a.name,"]"),content:c("Soft.index_50",[a.name]),onConfirm:async({hide:e})=>{await d({name:f,args_name:a.name}),I(),e()}})}}]})]),z=a=>U.args_names.split("\n").includes(a),B=async(a,e)=>{let t;t=e?U.args_names.trim().length>0?U.args_names+"\n"+a:a:F(a),await p({name:f,args_names:t}),I()},F=a=>U.args_names.split("\n").filter((e=>e!==a)).join("\n"),{loading:G,setLoading:H}=l(),I=async()=>{try{H(!0);const{message:a}=await u({name:f});m(a)&&(D.data=a.args,U.args_names=a.config)}finally{R.value=[],H(!1)}},N=i(c("Soft.index_49"),{getList:I,name:f});I();return _({onConfirm:async()=>{null==v||v()}}),(t,n)=>{const s=h,l=o,i=e,r=a;return k(),S("div",q,[j(i,null,{toolsLeft:C((()=>[j(s,{type:"primary",onClick:b},{default:C((()=>[L(P(t.$t("Soft.index_49")),1)])),_:1})])),table:C((()=>[j(l,{"max-height":250,loading:$(G),data:$(D).data,columns:$(W)},null,8,["loading","data","columns"])])),_:1}),j(r,{show:$(N).show,"onUpdate:show":n[0]||(n[0]=a=>$(N).show=a),title:$(N).title,data:$(N).data,width:550,footer:!0,component:T},null,8,["show","title","data"])])}}});export{D as _};
