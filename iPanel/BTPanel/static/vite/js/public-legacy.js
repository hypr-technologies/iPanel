System.register(["./page_layout-legacy.js?v=1752142539265","./naive-legacy.js?v=1752142539265","./vue-legacy.js?v=1752142539265","./common-legacy.js?v=1752142539265"],(function(e,t){"use strict";var a,n,i,s,o,l,c,d,u,r,p,m,g,h,f,b,_,v,y,x,w,k,C,j,P,S,M,q,O,L,$,B,W,z,T,N,V,A,D,H,R,F,I,U,E,Q,K,J,X,G,Y,Z,ee,te,ae,ne,ie,se,oe,le,ce,de,ue,re,pe,me,ge,he,fe,be,_e,ve,ye,xe,we,ke,Ce,je,Pe,Se,Me,qe,Oe,Le,$e;return{setters:[e=>{a=e.g,n=e.m,i=e._,s=e.a,o=e.i,l=e.b,c=e.c,d=e.d,u=e.u,r=e.e,p=e.l,m=e.f,g=e.s,h=e.h,f=e.j,b=e.k,_=e.n,v=e.o,y=e.p,x=e.q,w=e.r,k=e.t,C=e.v,j=e.w,P=e.x},e=>{S=e.bo,M=e.bZ,q=e.aq,O=e.bR,L=e.bS,$=e.b_,B=e.b$,W=e.by,z=e.bX,T=e.Z,N=e.c0,V=e.c1,A=e.bV,D=e.c2,H=e.c3,R=e.ay},e=>{F=e.r,I=e.k,U=e.P,E=e.Q,Q=e.j,K=e.o,J=e.n,X=e.aa,G=e.e,Y=e._,Z=e.U,ee=e.X,te=e.q,ae=e.ab,ne=e.ac,ie=e.ad,se=e.c,oe=e.ae,le=e.w,ce=e.a1,de=e.a2,ue=e.s,re=e.W,pe=e.N,me=e.a3,ge=e.V,he=e.af,fe=e.l,be=e.ag,_e=e.ah,ve=e.H,ye=e.F,xe=e.u,we=e.ai,ke=e.aj,Ce=e.ak,je=e.b,Pe=e.$,Se=e.al,Me=e.y,qe=e.G,Oe=e.am,Le=e.an,$e=e.m},null],execute:function(){var Be=document.createElement("style");Be.textContent=".bt-table-input[data-v-04feea87]{width:100%;height:22px;padding:0;outline-offset:2px;border:1px solid transparent;background:transparent;white-space:pre-line;color:#666}.bt-table-input[data-v-04feea87]:hover,.bt-table-input[data-v-04feea87]:focus{border:1px solid #20a53a;background-color:#fff}\n/*$vite$:1*/",document.head.appendChild(Be),e({B:async function(){await Promise.all([p("/static/codemirror/lib/codemirror.js?v=1752142539265"),p("/static/laydate/laydate.js?v=1752142539265"),p("/static/vite/oldjs/clipboard.min.js?v=1752142539265"),p("/static/vite/oldjs/soft.js?v=1752142539265"),p("/static/vite/oldjs/public.js?v=1752142539265"),p("/static/vite/oldjs/public_backup.js?v=1752142539265"),p("/static/vite/oldjs/tools.js?v=1752142539265")])},C:function(e){const t=u(),{mainHeight:a}=Pe(t),{top:n,bottom:i}=Se(e);return{height:se((()=>{if(0===a.value)return"auto";const e=document.querySelector("#layout-main"),t=e?.children[0],s=t?.getBoundingClientRect(),o=(s?.bottom||0)-i.value;return a.value-n.value-o+"px"}))}},D:function(e){const{key:t="status"}=e;return{key:e.key||"status",title:e.title||o.global.t("Public.Table.Status"),width:e.width,minWidth:70,render:a=>E(at,{value:a[t],"checked-title":e.checkedLabel||o.global.t("Public.Status.Running"),"unchecked-title":e.uncheckedLabel||o.global.t("Public.Status.Stop"),checkedValue:e.checkedValue,uncheckedValue:e.uncheckedValue,onClick:t=>{e.confirm&&Ae(e.confirm(t,a))}},null)}},E:function(e){return new Promise(((t,a)=>{if(u().isFree)return Ee(e),void a(!1);t(!0)}))},F:function(e=100){const t=F(0);let a=null;return function n(){a=requestAnimationFrame((()=>{t.value++,t.value>=e||n()}))}(),qe((()=>{a&&cancelAnimationFrame(a)})),{defer:function(e){return t.value>=e}}},H:function(){K((()=>{setTimeout((()=>{Ge()}),1e3)}))},I:function(e={}){const t=e.key||"progress",a=e.placement||"inside";return e.loading,{key:t,title:e.title||o.global.t("Mail.Unsubscribe.index_26"),width:e.width||"10%",minWidth:100,maxWidth:e.maxWidth,render:n=>E(W,{type:"line","indicator-placement":a,percentage:n[t],processing:100!==n[t],height:e.height,status:e.status,color:e.color},null)}},J:function(e={}){const t=e.key||"password";return{key:t,title:e.title||o.global.t("Public.Table.Password"),width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:e=>{const a=e[t];return E(dt,{value:m(a)?a:""},null)}}},K:function(e){const{key:t="status"}=e;return{key:e.key||"Caching(nginx)",title:e.title||"Caching(nginx)",width:e.width,minWidth:70,render:a=>E(it,{disabled:!!e.disabled&&e.disabled(a),tips:e.tips,value:a[t],onClick:t=>{e.onClick(t,a)}},null)}},a:Ee,af:function(e,t,a,n,i){Ve({title:"Manually parse TXT records",width:700,minHeight:400,data:{manualParse:e,site_id:t,domains:a,callback:n,tips:i},component:ht})},ai:ft,aj:async function(){if(!localStorage.getItem("loginActivityShown"))try{await l()}catch{Ue()}},b:Ke,c:Qe,e:function(e="",t={}){return G({show:!1,title:e,data:t})},h:function(e){return{key:e.key||"action",title:e.title||o.global.t("Public.Table.Action"),align:e.align||"right",width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:(t,a)=>E(nt,{options:e.options?.(t,a)||[]},null)}},k:function(){Ve({title:o.global.t("Home.index_8"),width:350,minHeight:110,component:Y((()=>s((()=>t.import("./index-legacy95.js?v=1752142539265")),void 0)))})},l:function(e,t=3){let a=null,n=!1,i=0;const s=()=>{n||i>=3?o():a=window.setTimeout((async()=>{try{await e(),i=0}catch{i++}finally{s()}}),1e3*t)},o=()=>{a&&(clearTimeout(a),a=null)};return je((()=>{n=!0,o()})),{loop:s,clearTimer:o}},n:Ue,o:function(e){const{key:t="status"}=e;return{key:t,title:e.title||o.global.t("Public.Table.Status"),width:e.width||"8%",minWidth:e.minWidth||80,render:a=>{const n=e.status(a);return E(at,{value:a[t],"checked-label":n.checkedLabel,"checked-value":n.checkedValue,"unchecked-label":n.uncheckedLabel,"unchecked-value":n.uncheckedValue,onClick:e=>{n.onClick?.(e)}},null)}}},p:function(e={}){const t=ke(),a=e.key||"path";return{key:a,title:e.title||o.global.t("Public.Table.Path"),width:e.width,minWidth:e.minWidth||120,ellipsis:{tooltip:!0},render:e=>E("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;",onClick:()=>{x("Path",e[a]),t.push("/files")}},[e[a]])}},r:async function(e){const{message:t}=await c({sName:e});if(d(t)&&!t.status)return Ie(e),Promise.reject(!1)},v:function(e={}){return{key:e.key||"quota",title:e.title||o.global.t("Component.Quota.index_1"),width:e.width||"8%",minWidth:e.minWidth||100,maxWidth:e.maxWidth||120,render:t=>E(et,{type:e.type||"",data:t,callback:e.callback},null)}},w:function(e){const{key:t="ps"}=e;return{key:t,title:e.title||o.global.t("Public.Table.Note"),width:e.width,minWidth:e.minWidth||120,render:a=>E(tt,{value:a[t],onBlur:async(n,i)=>{const s=a[t];if(s!==n)try{await e.onBlur(n,a),a[t]=n}catch(o){i.target.value=s,console.error(o)}}},null)}},x:Ge,y:function(e){const t=F("auto"),a=u(),{mainHeight:n}=Pe(a),{top:i,bottom:s}=Se(e);return Me((()=>{if(0===n.value)return;const e=document.querySelector("#layout-main"),a=e?.children[0],o=a?.getBoundingClientRect(),l=(o?.bottom||0)-s.value;t.value=n.value-i.value-l+"px"})),{height:t}},z:function(e,t={}){const a={},n=Ce(function(){const{host:t,protocol:a}=window.location;return("http:"===a?"ws://":"wss://")+t+"/v2"+e}(),{autoReconnect:{retries:0,delay:500},immediate:t.immediate,onConnected:()=>{!function(){const e={};e["x-http-token"]=document.getElementById("request_token_head")?.getAttribute("token"),t.verifyData&&Object.assign(e,t.verifyData),i(e)}(),s()},onMessage:(e,n)=>{if(k(n.data)){const t=JSON.parse(n.data),i=t.callback||t.ws_callback||t.def_name;i&&a[i]&&a[i].callback(e,n)}t.onMessage?.(e,n)},onDisconnected:t.onDisconnected}),i=e=>{(e=>n.status.value===e)("OPEN")&&n.send(d(e)?JSON.stringify(e):e)},s=()=>{Object.entries(a).forEach((([,e])=>{i(e.data)}))};return{...n,send:(e,t)=>{if(t)a[t.action]={data:e,callback:t.callback};else{const t=w(10);a[t]={data:e,callback:()=>{}}}i(e)},close:()=>{Object.keys(a).forEach((e=>{delete a[e]})),n.close()}}}});const We={dynamicModals:F([]),modalInstRefs:{}},ze=e("g",(()=>We)),Te=I({name:"BtModal",props:{data:{type:Object}},setup(e){const{t:t}=U(),a=F(0),i=F(0),s=F(null),o=F(null);return o.value=null,a.value=Math.round(9*Math.random()+1),i.value=Math.round(9*Math.random()+1),K((()=>{J((()=>{s.value&&s.value.focus()}))})),{sum:o,addend1:a,addend2:i,inputRef:s,onConfirm:async s=>(o.value===a.value+i.value?(await(e.data?.onConfirm?.(s)),s.hide()):n.error(t("Component.Confirm.index_5")),!1)}},render(){const{t:e}=U();return E("div",{class:"p-20px"},[E("div",{class:"flex items-center"},[E("div",{class:"flex-1 text-12px leading-20px"},[S(this.data?.content)])]),E("div",{class:"confirm-calc-box flex items-center h-48px mt-12px px-12px bg-#f0f0f0"},[E("div",null,[e("Component.Confirm.index_4")]),E("div",{class:"confirm-calc-num mx-10px"},[this.addend1,Q(" + "),this.addend2]),E("div",{class:"mr-10px"},[Q("=")]),E("div",{class:"w-90px"},[E(M,{ref:"inputRef",size:"small",placeholder:"",inputProps:{name:"sum"},value:this.sum,showButton:!1,onUpdateValue:e=>{this.sum=e}},null)])])])}}),Ne=I({name:"BtModal",props:{data:{type:Object}},setup(e){const{t:t}=U(),a=F(null),i=F(""),s=F(e.data?.text||"");return K((()=>{J((()=>{a.value&&a.value.focus()}))})),{text:s,result:i,inputRef:a,onConfirm:async a=>(i.value===s.value?(await(e.data?.onConfirm?.(a)),a.hide()):n.error(t("Component.Confirm.index_2")),!1)}},render(){return E("div",{class:"p-20px"},[E("div",{class:"flex items-center"},[E(i,{name:"base-warning",size:"30",color:"#f0a020"},null),E("div",{class:"flex-1  ml-12px text-13px leading-20px"},[S(this.data?.content)])]),E("div",{class:"mt-16px p-12px bg-#e6e6e6"},[E(X,{tag:"div",keypath:"Component.Confirm.index_1",scope:"global"},{text_:E("span",{class:"text-error"},[this.text])}),E(q,{ref:"inputRef",size:"small",class:"mt-8px",placeholder:"",inputProps:{name:"confirm_text"},value:this.result,onUpdateValue:e=>{this.result=e}},null)])])}}),Ve=e("u",(function(e){const t=a(),n=ze();return n.dynamicModals.value.push({...e,key:t,destroy:()=>{n.modalInstRefs[`modal-${t}`].hide()}}),{hide:()=>{n.modalInstRefs[`modal-${t}`].hide()}}})),Ae=e("d",(({title:e,content:t,width:a=350,onConfirm:n=()=>{},onPublicClose:s=()=>{}})=>Ve({title:e,width:a,footer:!0,onConfirm:n,onPublicClose:s,content:()=>E("div",{class:"flex p-20px"},[E(i,{name:"base-warning",size:"30",color:"#f0a020"},null),E("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[S(t)])])})));e("q",(({title:e,content:t,width:a=350,onConfirm:n=()=>{}})=>{Ve({title:e,width:a,footer:!0,data:{content:t,onConfirm:n},component:Te})})),e("al",(({text:e,title:t,content:a,width:n=470,onConfirm:i=()=>{}})=>{Ve({title:t,width:n,footer:!0,data:{text:e,content:a,onConfirm:i},component:Ne})})),e("A",(({title:e="",desc:a="",data:n=[],columns:i=[],api:o,done:l})=>{Ve({title:e,width:440,footer:!0,data:{title:e,desc:a,data:n,columns:i,api:o,done:l},component:Y((()=>s((()=>t.import("./index-legacy91.js?v=1752142539265")),void 0)))})}));const{t:De}=o.global,He=e("M",(e=>"0.00"!==e.price&&(-1==e.endtime||-2==e.endtime))),Re=(e("N",(e=>{switch(e.task){case"-1":return De("Soft.index_40");case"0":return De("Soft.index_41");case"-2":return De("Soft.index_42");case"1":return De("Public.Btn.Install");default:return"unknown"}})),e("L",(e=>e.versions.map((e=>`${e.m_version}.${e.version}`)).some((t=>5===e.type?Re(e.version,t):Fe(e.version,t)))&&e.setup&&!He(e))),e("O",(e=>e.versions.map((e=>`${e.m_version}.${e.version}`)).findIndex((t=>5===e.type?Re(e.version,t):Fe(e.version,t))))),(e,t)=>{const a=e.split(".").map(Number),n=t.split(".").map(Number),i=a[0],s=a[1],o=a[2]||0,l=n[0],c=n[1],d=n[2]||0;return i===l&&s===c&&!(0===s&&c>0)&&(o<d?`${i}.${s}.${d+1}`:!(""!==e||!t)&&t)}),Fe=(e,t)=>{const a=e.split(".").map(Number),n=t.split(".").map(Number),i=a[0],s=a[1],o=a[2],l=n[0],c=n[1],d=n[2];return(l>i||l===i&&c>(void 0!==s?s:-1)||l===i&&c===(void 0!==s?s:-1)&&d>(void 0!==o?o:-1))&&[l,void 0!==c?c:"",void 0!==d?d:""].filter(Boolean).join(".")},Ie=(e("Q",(()=>{Ve({width:574,minHeight:400,component:Y((()=>s((()=>t.import("./submit-legacy.js?v=1752142539265")),void 0)))})})),e("m",((e,a)=>{const n=Ve({width:620,minHeight:200,data:{name:e,callback:a,hide:()=>n.hide()},component:Y((()=>s((()=>t.import("./index-legacy92.js?v=1752142539265")),void 0)))})})));function Ue(e=!1){Ve({width:950,hideClose:e,component:Y((()=>s((()=>t.import("./index-legacy93.js?v=1752142539265")),void 0)))})}async function Ee(e){try{const a=u();let n="";if(a.iPanelPro&&a.isFree)n=a.username;else{const{message:e}=await l();n=O(e,"data.username","")}Ve({width:1e3,height:720,hideClose:a.iPanelPro&&a.isFree,data:{username:n,...e},component:Y((()=>s((()=>t.import("./index-legacy94.js?v=1752142539265")),void 0)))})}catch{Ue()}}function Qe(e=!1){const t=F(e);return{loading:t,setLoading:(e,a=!0)=>{a&&(t.value=e)}}}function Ke(e){const t=F([]),a=G({data:[],total:0,loading:!1}),n=F(e);return{keys:t,table:a,columns:n,setLoading:(e,t=!0)=>{t&&(a.loading=e)}}}e("S",((e,a)=>{Ve({title:De("Soft.index_25"),width:500,data:{data:e,callback:a},footer:!0,confirmText:De("Public.Btn.Install"),component:Y((()=>s((()=>t.import("./app-install-third-legacy.js?v=1752142539265")),void 0)))})})),e("P",((e,a)=>{const n=Ve({width:620,minHeight:200,data:{row:e,callback:a,hide:()=>n.hide()},component:Y((()=>s((()=>t.import("./app-update-legacy.js?v=1752142539265")),void 0)))})}));const Je={class:"bt-tips-ul flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"},Xe=e("_",r({},[["render",function(e,t){return ee(),Z("ul",Je,[te(e.$slots,"default")])}]]));async function Ge(){await p("/static/vite/oldjs/jquery-2.2.4.min.js?v=1752142539265"),await p("/static/layer/layer.js?v=1752142539265"),await p("/static/vite/oldjs/jsencrypt.min.js?v=1752142539265"),await p("/static/language/English/lan.js?v=1752142539265")}const Ye=e("f",I({__name:"index",props:ae({data:{default:()=>[]},rowKey:{default:"id"},loading:{type:Boolean,default:!1},loadingNum:{default:10},isPage:{type:Boolean,default:!1},maxHeight:{},columns:{default:()=>[]},rowProps:{},storeKey:{}},{page:{default:()=>({page:1,pageSize:10})},pageModifiers:{}}),emits:["update:page"],setup(e){const t=e,a=ne(e,"page"),{t:n}=U(),{columns:i,data:s}=ie(t),o=()=>L(pe(i.value)),l=F(o()),c=o(),d=se((()=>{const{rowKey:e}=t;return m(e)?t=>t[e]:e})),u=se((()=>{const{storeKey:e}=t;return e?`${e}-page`:""})),r=F([]),p=oe(),_=G({style:{width:"100%"},showSizePicker:!0,showQuickJumper:!0,pageSizes:[10,20,50,100],prefix:()=>p.pagePrefix?.(),suffix:e=>E("span",{class:"text-13px text-default"},[n("Public.Table.Page.index_4",[e.itemCount])]),onChange:e=>{a.value.page=e},onUpdatePageSize:e=>{a.value.page=1,a.value.pageSize=e,u.value&&g(u.value,String(e))}});(()=>{if(u.value){const e=h(u.value);e&&(a.value.pageSize=f(e))}})();const v=se((()=>({..._,page:a.value.page,pageSize:a.value.pageSize})));return le((()=>s.value),(e=>{t.loading||(r.value=e)}),{deep:!0}),le((()=>t.loading),(e=>{if(e){if(l.value.forEach((e=>{"selection"!==e.type&&(e.ellipsis&&delete e.ellipsis,e.render=()=>E(b,null,null))})),0===s.value.length)for(let a=0;a<t.loadingNum;a++){const e={},{rowKey:n}=t;e[m(n)?n:"id"]=a,r.value.push(e)}}else r.value=[],J((()=>{l.value.forEach(((e,t)=>{if("selection"===e.type)return;const a=c[t];a.ellipsis&&(e.ellipsis=a.ellipsis),e.render=a.render})),r.value=s.value}))}),{immediate:!0}),le((()=>t.columns),(()=>{l.value=o(),c.splice(0,c.length),c.push(...o())}),{deep:!0}),(e,t)=>{const a=$;return ee(),ce(a,ue(e.$attrs,{data:re(r),"max-height":e.maxHeight,"row-key":re(d),columns:re(l),pagination:!!e.isPage&&re(v),"row-props":e.rowProps}),{empty:de((()=>[te(e.$slots,"empty")])),default:de((()=>[te(e.$slots,"pagePrefix")])),_:3},16,["data","max-height","row-key","columns","pagination","row-props"])}}})),Ze={class:"leading-20px"},et=I({__name:"index",props:{type:{default:"site"},data:{},callback:{}},setup(e){const{t:a}=U(),n=e,i=se((()=>{const{data:e}=n,{quota:t}=e;return!t.size})),o=se((()=>{if(i.value)return 0;const{data:e}=n,t=O(e,"quota.used",0);let a=O(e,"quota.size",0);return a=1024*a*1024,0===a?0:t/a*100})),l=se((()=>{const{data:e}=n,t=O(e,"quota.used",0);return _(t)})),c=se((()=>{const{data:e}=n;return`${O(e,"quota.size",0).toFixed(2)} MB`})),d=se((()=>o.value<90?"success":"error")),u=new Map([["site","Site"],["ftp","FTP"],["database","Database"]]),r=()=>{Ve({title:`${a("Component.Quota.index_5",[n.data.name,u.get(n.type)||"--"])}`,width:480,minHeight:222,footer:!0,data:{type:n.type,info:n.data,callback:n.callback},component:Y((()=>s((()=>t.import("./quota-config-legacy.js?v=1752142539265")),void 0)))})};return(e,t)=>{const a=v,n=W,s=B;return re(i)?(ee(),ce(a,{key:0,onClick:r},{default:de((()=>[Q(me(e.$t("Component.Quota.index_2")),1)])),_:1})):(ee(),Z("div",{key:1,class:"cursor-pointer",onClick:r},[E(s,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:de((()=>[E(n,{type:"line",status:re(d),percentage:re(o),height:12,"border-radius":2,"show-indicator":!1},null,8,["status","percentage"])])),default:de((()=>[ge("div",Ze,[ge("p",null,me(e.$t("Component.Quota.index_3",[re(l)])),1),ge("p",null,me(e.$t("Component.Quota.index_12",[re(c)])),1),ge("p",null,me(e.$t("Component.Quota.index_4")),1)])])),_:1})]))}}}),tt=e("a9",r(I({__name:"index",props:{value:{default:""},onUpdateValue:{},onBlur:{}},setup(e){const t=e,a=he(t,"value"),n=e=>{const a=e.target;t?.onBlur?.(a.value||"",e)};return(e,t)=>fe((ee(),Z("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>_e(a)?a.value=e:null),class:"bt-table-input",onBlur:n},null,544)),[[be,re(a)]])}}),[["__scopeId","data-v-04feea87"]])),at=e("s",I({__name:"index",props:{value:{type:[Number,String,Boolean,null],default:"1"},checkedValue:{type:[Number,String,Boolean],default:"1"},uncheckedValue:{type:[Number,String,Boolean],default:"0"},checkedLabel:{default:""},uncheckedLabel:{default:""},onClick:{default:void 0}},setup(e){const t=e,a=()=>{const{value:e,checkedValue:a,uncheckedValue:n,onClick:i}=t;i&&T(i,e===a?n:a)};return(e,t)=>{const n=z;return ee(),ce(n,{class:ve(["items-center cursor-pointer",e.value===e.checkedValue?"text-primary":"text-error"]),size:0,inline:!0,onClick:a},{default:de((()=>[ge("span",null,me(e.value===e.checkedValue?e.checkedLabel||e.$t("Public.Status.Running"):e.uncheckedLabel||e.$t("Public.Status.Stopped")),1),ge("span",{class:ve(["iconfont mt-1px","icon-"+(e.value===e.checkedValue?"start":"stop")])},null,2)])),_:1},8,["class"])}}})),nt=e("G",I({name:"BtLinkGroup",props:{options:{type:Array,default:()=>[]}},render(){let e;return E(z,{class:"items-center",justify:"end",inline:!0,size:0},"function"==typeof(t=e=this.options.filter((e=>void 0===e.show||e.show)).map(((e,t)=>{const a=e.linkType||"default";return E(ye,null,[0!==t?E(y,{class:"mx-4px!",vertical:!0},null):"","default"===a?E(v,{disabled:e.disabled||!1,class:e.class,type:e.type,width:e.width||"auto",onClick:()=>{e.onClick?.()}},{default:()=>[e.label]}):"","dropdown"===a?E(N,e.dropdown||{},{default:()=>[E(v,{disabled:e.disabled||!1,onClick:()=>{e.onClick?.()}},{default:()=>[e.label,E(i,{name:"base-arrow-bottom",size:"13"},null)]})]}):""])})))||"[object Object]"===Object.prototype.toString.call(t)&&!xe(t)?e:{default:()=>[e]});var t}})),it=e("R",I({__name:"index",props:{disabled:{type:Boolean,default:!1},tips:{},value:{type:[Boolean,String,Number],default:!1},onClick:{}},setup(e){let t=F(!0);const a=e;"string"==typeof a.value||"number"==typeof a.value?t.value=!!a.value:t.value=a.value;const n=()=>{const{onClick:e}=a;e&&T(e,t.value)};return(e,a)=>{const i=V,s=A;return ee(),ce(s,{trigger:"hover",disabled:!(e.disabled&&re(t))},{trigger:de((()=>[E(i,{size:"small",value:re(t),"onUpdate:value":[a[0]||(a[0]=e=>_e(t)?t.value=e:t=e),n],disabled:e.disabled&&re(t)},null,8,["value","disabled"])])),default:de((()=>[Q(" "+me(e.tips),1)])),_:1},8,["disabled"])}}})),st=e("i",(async e=>{const{copy:t,isSupported:a}=we({legacy:!0});a.value?(t(e),n.success(o.global.t("Utils.Copy.index_1"))):n.error(o.global.t("Utils.Copy.index_2"))})),ot={class:"flex"},lt={class:"w-0 flex-1 flex items-center"},ct={class:"min-w-0"},dt=e("t",I({__name:"index",props:{value:{default:""}},setup(e){const t=e,a=F(!1),n=se((()=>a.value?t.value:"**********")),s=se((()=>a.value?"icon-eye-close":"icon-browse")),o=()=>{a.value=!a.value},l=async()=>{st(`${t.value}`)};return(e,t)=>{const a=D,c=i;return ee(),Z("div",ot,[ge("div",lt,[ge("div",ct,[E(a,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:de((()=>[Q(me(re(n)),1)])),_:1})]),ge("div",{class:"ml-6px text-15px cursor-pointer",title:"Show",onClick:o},[ge("i",{class:ve(["iconfont",re(s)])},null,2)]),ge("button",{class:"reset ml-6px text-15px cursor-pointer text-#333",title:"Copy",onClick:l},[E(c,{name:"common-copy"})])])])}}}));e("U",(e=>C.post("/ssl_domain?action=list_dns_api",e))),e("ao",(e=>C.post("/ssl_domain?action=create_dns_api",e,{requestOptions:{loading:o.global.t("WP.api.tamper_2"),successMessage:!0}}))),e("V",(e=>C.post("/ssl_domain?action=edit_dns_api",e,{requestOptions:{loading:o.global.t("Crontab.Api.index_5"),successMessage:!0}}))),e("T",(e=>C.post("/ssl_domain?action=delete_dns_api",e,{requestOptions:{loading:o.global.t("Mail.Api.index_37"),successMessage:!0}}))),e("ap",(()=>C.post("/ssl_domain?action=get_dns_support"))),e("X",(e=>C.post("/ssl_domain?action=list_dns_record",e))),e("aq",(e=>C.post("/ssl_domain?action=create_dns_record",e,{requestOptions:{loading:o.global.t("WP.api.tamper_2"),successMessage:!0}}))),e("Y",(e=>C.post("/ssl_domain?action=edit_dns_record",e,{requestOptions:{loading:o.global.t("Crontab.Api.index_5"),successMessage:!0}}))),e("W",(e=>C.post("/ssl_domain?action=delete_dns_record",e,{requestOptions:{loading:o.global.t("Mail.Api.index_37"),successMessage:!0}}))),e("$",(e=>C.post("/ssl_domain?action=list_domain_details",e))),e("a4",(e=>C.post("/ssl_domain?action=switch_ssl_alarm",e,{requestOptions:{loading:o.global.t("Crontab.Api.index_5"),successMessage:!0}}))),e("Z",(e=>C.post("/ssl_domain?action=sync_dns_info",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!0}}))),e("a5",(e=>C.post("/ssl_domain?action=list_ssl_info",e))),e("az",(e=>C.post("/ssl_domain?action=download_cert",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("a6",(e=>C.post("/ssl_domain?action=renew_cert",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!0}}))),e("ah",((e,t=!0)=>C.post("/ssl_domain?action=apply_new_ssl",e,{requestOptions:{loading:t?o.global.t("Login.index_22"):"",successMessage:!1}}))),e("ac",(e=>C.post("/ssl_domain?action=upload_cert",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("a3",(e=>C.post("/ssl_domain?action=switch_auto_renew",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!0}}))),e("av",(e=>C.post("/ssl_domain?action=cert_domain_list",e))),e("ad",(e=>C.post("/ssl_domain?action=cert_deploy_sites",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("ax",(e=>C.post("/ssl_domain?action=cert_deploy_mails",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("aw",(e=>C.post("/ssl_domain?action=cert_deploy_panel",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!0}}))),e("a1",(e=>C.post("/ssl_domain?action=remove_cert",e,{requestOptions:{loading:o.global.t("Mail.Api.index_37"),successMessage:!0}}))),e("j",(e=>C.post("/ssl_domain?action=check_domain_automatic",e)));const ut=e("ak",(e=>C.post("/files?action=GetFileBody",e,{requestOptions:{errorMessage:!1}})));e("aa",(()=>C.post("/ssl_domain?action=ssl_tasks_status"))),e("an",(e=>C.post("/plugin?action=a&name=mail_sys&s=get_auto_cert",e,{requestOptions:{loading:o.global.t("Login.index_22"),errorMessage:!1}}))),e("am",(e=>C.post("/plugin?action=a&name=mail_sys&s=auto_deploy_cert",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!0}}))),e("a7",(()=>C.post("/business_ssl?action=get_product_list"))),e("a8",(e=>C.post("/business_ssl?action=apply_cert_order_pay",e))),e("at",(()=>C.post("/business_ssl?action=get_cert_admin"))),e("a2",(e=>C.post("/business_ssl?action=list_business_ssl",e))),e("ar",(e=>C.post("/data?action=getData",e))),e("as",(e=>C.post("/business_ssl?action=apply_order_ca",e,{requestOptions:{loading:o.global.t("Account.Account.accountState-721844-19"),successMessage:!0}}))),e("a0",(e=>C.post("/business_ssl?action=get_verify_result",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("au",(e=>C.post("/business_ssl?action=check_domain_suitable",e))),e("ay",(()=>C.post("/ssl_domain?action=get_sites"))),e("ae",(e=>C.post("/ssl_domain?action=manual_apply_check",e,{requestOptions:{loading:o.global.t("Login.index_22"),successMessage:!1}}))),e("ab",(e=>{const{fetchFn:t,params:a,immediate:n=!0,rowKey:i=e=>e.id,useParams:s}=e,o=G({loading:n}),l=F([]),c=F(0),u=F(a),r=Oe((async(e=!1,a=!0)=>{e&&(u.value.p=1),a&&(o.loading=!0);try{const e=s?s(u.value):u.value,{message:a}=await t(e);d(a)&&(l.value=j(a.data)?a.data:[],c.value=P(a.page))}finally{a&&(o.loading=!1)}}),300),p=(e=!1,t=!0)=>r(e,t),m=se((()=>l.value.length>0));return K((()=>{n&&p()})),{loading:se((()=>o.loading)),hasData:m,tableParams:u,tableData:l,fetchTable:p,resetTable:(e=!0)=>p(!0,e),setLoading:e=>{o.loading=e},changeSort:(e,t)=>{u.value.sort_field=e,u.value.sort_order=t,p(!0)},changeFilter:e=>{Object.assign(u.value,e),p(!0)},tableConfig:se((()=>({rowKey:i,data:l.value,loading:o.loading}))),pageConfig:se((()=>({page:u.value.p,pageSize:u.value.limit,itemCount:c.value,onUpdatePage:e=>{u.value.p=e},onUpdatePageSize:e=>{u.value.limit=e}})))}}));const rt=["innerHTML"],pt=e("ag",I({__name:"apply-progress",setup(e){const t=F("Applying for a certificate..."),a=async()=>{const{message:e}=await ut({path:"/www/server/panel/logs/letsencrypt.log"});d(e)&&(t.value=e.data?e.data:"None")};a();let n=null;return K((()=>{n=setInterval((()=>{a()}),1e3)})),qe((()=>{n&&clearInterval(n)})),(e,a)=>(ee(),Z("pre",{innerHTML:re(t),class:"h-full overflow-auto bg-black text-white p-10px whitespace-pre-wrap"},null,8,rt))}})),mt={class:"p-16px"},gt={class:"flex items-center"},ht=I({__name:"manual-parse",props:{manualParse:{},site_id:{},domains:{},callback:{type:Function},tips:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const{t:a}=U(),n=e,s=t,{table:o,columns:l}=Ke([{key:"domain",title:a("Mail.Domain.index_3")},{key:"auth_value",title:a("Mail.Domain.index_38")},{key:"type",title:a("Ftp.Table.index_3"),width:80},{key:"must",title:"Essential",width:100}]),{loading:c,setLoading:d}=Qe(),u=async()=>{const e=Ve({width:500,height:300,hideClose:!0,component:pt});try{await(t={site_id:n.site_id,domains:n.domains.join(",")},C.post("/ssl_domain?action=manual_apply_vaild",t,{requestOptions:{loading:"",successMessage:!0,errorMessage:!1}}))}catch(a){ft(O(a,"message",""))}finally{e.hide(),s("close"),n.callback()}var t};return(()=>{try{d(!0),n.manualParse.length&&(o.data=n.manualParse.map((e=>({...e.data}))).flatMap((e=>Object.values(e))))}finally{d(!1)}})(),(e,t)=>{const a=H,s=i,d=Ye,r=R,p=z,m=Xe;return ee(),Z("div",mt,[n.tips?(ee(),ce(a,{key:0,type:"warning",class:"mb-10px"},{default:de((()=>t[0]||(t[0]=[ge("span",null,"You have unfinished application tasks, please complete them first.",-1)]))),_:1,__:[0]})):Le("",!0),E(a,{"show-icon":!1,class:"mb-10px"},{default:de((()=>[ge("div",gt,[E(s,{name:"base-info",size:"17",class:"mr-8px"}),t[1]||(t[1]=ge("span",{class:"leading-17px"},"Please do TXT analysis according to the following list",-1))])])),_:1}),E(d,{loading:re(c),"loading-num":2,columns:re(l),data:re(o).data,"max-height":"450px"},null,8,["loading","columns","data"]),E(p,{justify:"end",class:"my-10px"},{default:de((()=>[E(r,{type:"primary",onClick:u},{default:de((()=>[Q(me(e.$t("SSL.Business.index_54")),1)])),_:1})])),_:1}),E(m,null,{default:de((()=>[t[2]||(t[2]=ge("li",{class:"text-error"},"It takes some time to resolve the domain name to take effect. After completing all the resolution operations, please wait 1 minute before clicking the verification button",-1)),ge("li",null,"You can manually verify whether the domain name resolution is effective through CMD commands: nslookup -q=txt "+me(re(o).data[0].domain),1),t[3]||(t[3]=ge("li",null,"If you are using Pagoda Cloud Resolution Plugin, Alibaba Cloud DNS, DnsPod as DNS, you can use the DNS interface to automatically resolve",-1))])),_:1,__:[2,3]})])}}});function ft(e){Ve({title:o.global.t("SSL.index_31"),content:()=>$e("pre",{style:{padding:"10px",color:"#fff",maxHeight:"300px",overflow:"auto",backgroundColor:"#000",whiteSpace:"pre-wrap",wordBreak:"break-word"}},JSON.stringify(e,null,2)),width:480})}}}}));


