import{_ as e}from"./public.js?v=1752142539265";import{o as a,d as t,m as s,w as l}from"./page_layout.js?v=1752142539265";import{u as r}from"./index224.js?v=1752142539265";import{s as n}from"./file.js?v=1752142539265";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1752142539265";import{cD as u,bX as i,ay as p,d4 as c}from"./naive.js?v=1752142539265";import{k as m,r as f,U as v,X as _,Q as d,a2 as h,V as w,W as j,ah as g,j as y}from"./vue.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./theme-chrome.js?v=1752142539265";const b={class:"p-20px"},x={class:"w-160px"},C=m({__name:"rewrite",props:{fileContent:{default:""},filename:{default:""},rlist:{default:()=>[]}},emits:["close"],setup(m,{emit:C}){const k=m,U=C,{filename:R,rlist:X,fileContent:A}=k,D=r(),H=f(null),I=f(null),N=f([]),P=f(""),Q=f(A),S=e=>{if("0.default"===e||"0.Current"===e)return R;{const{webserver:e}=D;return"/www/server/panel/rewrite/".concat("openlitespeed"===e?"apache":e,"/").concat(I.value,".conf")}},T=async()=>{const{message:e}=await n({path:R,data:Q.value,encoding:"utf-8"});t(e)&&s.success(e.msg),U("close")},V=e=>{var a;P.value=S(e),null==(a=H.value)||a.getContent()};return(()=>{const e=l(X)?X:[];N.value=c(e).map((e=>({label:e,value:e}))),e.length&&(I.value=e[0],P.value=S(e[0]))})(),(t,s)=>{const l=u,r=a,n=i,c=p,m=e;return _(),v("div",b,[d(n,{class:"items-center mb-12px"},{default:h((()=>[w("div",x,[d(l,{value:j(I),"onUpdate:value":[s[0]||(s[0]=e=>g(I)?I.value=e:null),V],options:j(N)},null,8,["value","options"])]),w("div",null,[s[4]||(s[4]=w("span",null,"Rewrite rule converter: ",-1)),d(r,{href:"https://www.hypr.local/Tools",target:"_blank"},{default:h((()=>s[3]||(s[3]=[y("Apache to Nginx")]))),_:1,__:[3]})])])),_:1}),d(o,{ref_key:"configRef",ref:H,path:j(P),"onUpdate:path":s[1]||(s[1]=e=>g(P)?P.value=e:null),value:j(Q),"onUpdate:value":s[2]||(s[2]=e=>g(Q)?Q.value=e:null),height:350,"show-tips":!1},null,8,["path","value"]),d(n,{class:"items-center mt-12px"},{default:h((()=>[d(c,{type:"primary",onClick:T},{default:h((()=>s[5]||(s[5]=[y("Save")]))),_:1,__:[5]})])),_:1}),d(m,{class:"mt-24px"},{default:h((()=>s[6]||(s[6]=[w("li",null,"Please select your application.",-1),w("li",null," If the site cannot be accessed after the rewrite rules set, please try to reset to default. ",-1),w("li",null,"You are able to modify rewrite rules, just save it after modification.",-1)]))),_:1,__:[6]})])}}});export{C as default};
