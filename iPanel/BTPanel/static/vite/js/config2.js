import{_ as e,a,C as t}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1752142539265";import{c as n,u as l,_ as i,j as s,d as o,i as d,b as r,f,h as u}from"./public.js?v=1752142539265";import{a as p,g as c,s as _,b as x}from"./alarm.js?v=1752142539265";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang.js?v=1752142539265";import{_ as g}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1752142539265";import{O as v,w as C,ab as S,_ as b,aB as h,aC as y,aD as w,aE as $,d as k,aF as P,m as U,aG as B,K as j,aH as L,aI as R,aJ as z,e as E,aK as I,aL as T,aM as D,aN as H,j as A,aO as F,aP as K,aQ as X,J as M,aR as O,aS as q,X as G,aT as J,aU as N,aV as Q,x as V,aW as W,aX as Z}from"./page_layout.js?v=1752142539265";import{k as Y,P as ee,r as ae,e as te,x as ne,U as le,X as ie,Q as se,a2 as oe,W as de,V as re,a1 as fe,a3 as ue,j as pe,ah as ce,an as _e,N as xe,l as me,v as ge,aa as ve,F as Ce,au as Se,c as be}from"./vue.js?v=1752142539265";import{cz as he,c1 as ye,ay as we,_ as $e,c3 as ke,cB as Pe,cC as Ue,aq as Be,bX as je,bZ as Le,cD as Re,cG as ze}from"./naive.js?v=1752142539265";import{s as Ee,_ as Ie,f as Te,h as De,c as He}from"./configStore.js?v=1752142539265";import{O as Ae}from"./open.js?v=1752142539265";import{_ as Fe}from"./index102.js?v=1752142539265";import{_ as Ke}from"./index100.js?v=1752142539265";import{s as Xe,a as Me,g as Oe}from"./ssl-lets-progress.js?v=1752142539265";import{_ as qe}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1752142539265";import{_ as Ge}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1752142539265";const Je={class:"p-20px pt-28px pb-8px"},Ne={class:"w-300px"},Qe=Y({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:a,emit:t}){const l=e,i=t,{t:s}=ee(),o=ae(null),d=te({status:!0,method:[]}),r={method:{trigger:["change"],validator:()=>0!==d.method.length||new Error(s("Config.Safe.index_7"))}},f=ne([]),{loading:u,setLoading:_}=n();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(d.status=e||a[0].status,d.method=a[0].sender)})(),(async()=>{try{_(!0);const{message:e}=await c();f.value=C(e)?e:[]}finally{_(!1)}})(),a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await p((()=>{const e=f.value.filter((e=>"panel_safe_push"===e.source))[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:d.status,count:0,interval:600,project:"",help:600},sender:d.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),i("refresh")}}),(e,a)=>{const t=ye,n=he,l=g,i=m,s=v;return ie(),le("div",Je,[se(s,{show:de(u)},{default:oe((()=>[se(i,{ref_key:"formRef",ref:o,model:de(d),rules:r},{default:oe((()=>[se(n,{label:e.$t("Config.Safe.index_5")},{default:oe((()=>[se(t,{value:de(d).status,"onUpdate:value":a[0]||(a[0]=e=>de(d).status=e)},null,8,["value"])])),_:1},8,["label"]),se(n,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:oe((()=>[re("div",Ne,[se(l,{value:de(d).method,"onUpdate:value":a[1]||(a[1]=e=>de(d).method=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["show"])])}}}),Ve=Y({__name:"index",setup(a){const{t:t}=ee(),i=ae(!1),s=ae([]),o=async e=>{e?d(!0):(await _({task_id:s.value[0].id,status:0}),i.value=!1,s.value[0].status=!1)},d=(e=!1)=>{l({title:t("Config.Safe.index_4"),width:480,footer:!0,confirmText:t("Public.Btn.Save"),data:{open:e,taskList:s.value,onRefresh:u},component:Qe})},{loading:r,setLoading:f}=n(),u=async()=>{try{f(!0);const{message:e}=await x();if(C(e)){const a=e.filter((e=>"panel_safe_push"===e.keyword));a&&a.length>0?(i.value=a[0].status,s.value=a):(i.value=!1,s.value=[])}}finally{f(!1)}};return u(),(a,t)=>{const n=ye,l=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_2")},{content:oe((()=>[se(n,{loading:de(r),value:de(i),"onUpdate:value":o},null,8,["loading","value"]),se(l,{class:"ml-12px h-22px px-5px",size:"small",onClick:t[0]||(t[0]=e=>d())},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_3")),1)])),_:1},8,["label"])}}}),We={class:"flex p-20px"},Ze={class:"min-w-32px"},Ye={class:"flex-1 ml-10px text-14px leading-22px"},ea={class:"flex items-center min-h-30px mb-12px text-error"},aa=Y({__name:"close",emits:["setConfirm"],setup(e,{expose:a,emit:t}){const n=t,{t:l}=ee(),i=S(),s=ae(!1),o=()=>{d>0||n("setConfirm",{disabled:!s.value})};let d=5;return(()=>{n("setConfirm",{text:l("Config.Safe.index_16",[d]),disabled:!0});const e=setInterval((()=>{d--,n("setConfirm",{text:l("Config.Safe.index_16",[d])}),d<=0&&(clearInterval(e),n("setConfirm",{text:l("Config.Safe.index_17"),disabled:!s.value}))}),1e3)})(),a({onConfirm:async()=>(await h(),await y(),setTimeout((()=>{{const e="http:"===location.protocol?"https":"http";window.location.href="".concat(e,"://").concat(window.location.host).concat(Ee.value.adminPath)}}),1500),!1)}),(e,a)=>{const t=b,n=$e;return ie(),le("div",We,[re("div",Ze,[se(t,{name:"base-warning",color:de(i).warningColor,size:"32"},null,8,["color"])]),re("div",Ye,[re("div",ea,ue(e.$t("Config.Safe.index_14")),1),se(n,{checked:de(s),"onUpdate:checked":[a[0]||(a[0]=e=>ce(s)?s.value=e:null),o]},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_15")),1)])),_:1},8,["checked"])])])}}}),ta={class:"flex flex-wrap py-2px text-primary text-12px"},na={class:"mr-24px"},la={class:"mr-24px"},ia={class:"flex gap-20px mt-16px"},sa={class:"flex-1"},oa={class:"mb-8px"},da={class:"flex-1"},ra={class:"mb-8px"},fa={class:"mt-10px"},ua={class:"bt-link",href:"http://www.hypr.local/bbs/thread-704-1-1.html",target:"_blank"},pa=Y({__name:"ssl-custom",setup(e){const a=ae(""),t=ae(""),l=te({dns:[""],issuer:"--",notBefore:"--",notAfter:"--"}),s=async()=>{await w({privateKey:a.value,certPem:t.value},!0),r()},{loading:o,setLoading:d}=n(),r=async()=>{try{d(!0);const{message:e}=await $();k(e)&&(a.value=e.privateKey||"",t.value=e.certPem||"",l.dns=e.info.dns||[],l.issuer=e.info.issuer||"",l.notBefore=e.info.notBefore||"",l.notAfter=e.info.notAfter||"")}finally{d(!1)}};return r(),(e,n)=>{const d=ke,r=Ke,f=we,u=i,p=v;return ie(),fe(p,{show:de(o)},{default:oe((()=>[se(d,{type:"success","show-icon":!1},{default:oe((()=>[re("div",ta,[re("div",na,[pe(ue(e.$t("Config.Safe.index_37")),1),re("b",null,ue(de(l).dns.join(",")||"--"),1)]),re("div",la,[pe(ue(e.$t("Config.Safe.index_38")),1),re("b",null,ue(de(l).issuer),1)]),re("div",null,[pe(ue(e.$t("Config.Safe.index_39")),1),re("b",null,ue(de(l).notAfter),1)])])])),_:1}),re("div",ia,[re("div",sa,[re("div",oa,ue(e.$t("Config.Safe.index_27")),1),se(r,{value:de(a),"onUpdate:value":n[0]||(n[0]=e=>ce(a)?a.value=e:null),rows:14,placeholder:""},null,8,["value"])]),re("div",da,[re("div",ra,ue(e.$t("Config.Safe.index_28")),1),se(r,{value:de(t),"onUpdate:value":n[1]||(n[1]=e=>ce(t)?t.value=e:null),rows:14,placeholder:""},null,8,["value"])])]),re("div",fa,[se(f,{type:"primary",onClick:s},{default:oe((()=>[pe(ue(e.$t("Public.Btn.Save")),1)])),_:1})]),se(u,{class:"mt-12px"},{default:oe((()=>[re("li",null,[pe(ue(e.$t("Config.Safe.index_40"))+" ",1),re("a",ua," ["+ue(e.$t("Public.Btn.Help"))+"] ",1)]),re("li",null,ue(e.$t("Config.Safe.index_42")),1),re("li",null,ue(e.$t("Config.Safe.index_43")),1)])),_:1})])),_:1},8,["show"])}}}),ca={class:"h-400px"},_a={class:"flex items-center"},xa={class:"min-w-18px mr-8px"},ma={class:"leading-18px"},ga={class:"w-400px mr-10px"},va={class:"text-primary font-bold"},Ca={class:"text-warning font-bold"},Sa={class:"text-error"},ba=Y({__name:"ssl-lets",setup(e){const{t:a}=ee(),t=ae(null),n=te({domain:"",hash:"",auth_type:"http",support:[]}),o={domain:{required:!0,trigger:"blur",message:a("Config.Safe.Ssl.index_10")}},d=ae(!1),r=ae(!1),f=ae(!1),u=()=>{g()},p=()=>{f.value=!1,r.value=!1,n.hash="",n.support=[]},c=()=>{window.open("/ssl_domain/domain")},_=async()=>{var e;await(null==(e=t.value)?void 0:e.validate());const{message:a}=await Xe({domain:xe(n)});k(a)&&(a.task_id?x(a.task_id):U.success(a.result))},x=e=>{l({hideClose:!0,data:{task_id:e},component:Me})},g=async()=>{if(n.domain)try{d.value=!0;const{message:e}=await s({domain:n.domain});k(e)&&(r.value=!0,f.value=!!e.hash,n.hash=e.hash,n.support=e.support)}finally{d.value=!1}};return(async()=>{const{message:e}=await Oe();k(e)&&(n.domain=e.domain)})(),(e,a)=>{const l=b,s=ke,x=Ue,v=P,C=Pe,S=he,h=Be,y=we,w=je,$=m,k=i;return ie(),le("div",ca,[se(s,{"show-icon":!1,class:"mb-20px"},{default:oe((()=>[re("div",_a,[re("div",xa,[se(l,{name:"base-info",size:17})]),re("span",ma,ue(e.$t("Config.Safe.Ssl.index_1")),1)])])),_:1}),se($,{ref_key:"formRef",ref:t,model:de(n),rules:o,"label-width":"140"},{default:oe((()=>[se(S,{label:e.$t("Config.Safe.Ssl.index_2")},{default:oe((()=>[se(C,{value:de(n).auth_type,"onUpdate:value":a[0]||(a[0]=e=>de(n).auth_type=e)},{default:oe((()=>[se(v,null,{default:oe((()=>[se(x,{value:"http"},{default:oe((()=>[pe(ue(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),se(x,{value:"dns"},{default:oe((()=>[pe(ue(e.$t("SSL.index_12")),1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),"dns"===de(n).auth_type?(ie(),fe(S,{key:0,label:e.$t("Config.Safe.Ssl.index_4"),prop:"domain"},{default:oe((()=>[re("div",ga,[se(h,{value:de(n).domain,"onUpdate:value":a[1]||(a[1]=e=>de(n).domain=e),loading:de(d),"input-props":{spellcheck:!1},placeholder:e.$t("Config.Safe.Ssl.index_5"),clearable:"",onBlur:u,onInput:p},null,8,["value","loading","placeholder"])]),se(y,{onClick:g},{default:oe((()=>[pe(ue(e.$t("Config.Safe.Ssl.index_12")),1)])),_:1})])),_:1},8,["label"])):_e("",!0),"http"===de(n).auth_type?(ie(),fe(S,{key:1,label:e.$t("Config.Safe.Ssl.index_4")},{default:oe((()=>[se(h,{class:"w-400px!",value:de(n).domain,"onUpdate:value":a[2]||(a[2]=e=>de(n).domain=e),placeholder:e.$t("Config.Safe.Ssl.index_5")},null,8,["value","placeholder"])])),_:1},8,["label"])):_e("",!0),de(r)&&"dns"===de(n).auth_type?(ie(),fe(S,{key:2,label:" "},{default:oe((()=>[de(f)?(ie(),fe(s,{key:0,type:"success",class:"min-w-500px"},{default:oe((()=>[re("span",va,ue(e.$t("Config.Safe.Ssl.index_6",[de(n).domain])),1)])),_:1})):(ie(),fe(s,{key:1,type:"warning",class:"min-w-500px"},{default:oe((()=>[se(w,{class:"items-center"},{default:oe((()=>[re("span",Ca,ue(e.$t("Config.Safe.Ssl.index_7",[de(n).domain])),1),se(y,{type:"primary",ghost:"",size:"small",onClick:c},{default:oe((()=>[pe(ue(e.$t("Config.Safe.Ssl.index_8")),1)])),_:1})])),_:1})])),_:1}))])),_:1})):_e("",!0),se(S,{label:" "},{default:oe((()=>[se(y,{type:"primary",disabled:!de(f)&&"dns"===de(n).auth_type,onClick:_},{default:oe((()=>[pe(ue(e.$t("Config.Safe.Ssl.index_9")),1)])),_:1},8,["disabled"])])),_:1})])),_:1},8,["model"]),"http"===de(n).auth_type?(ie(),fe(k,{key:0},{default:oe((()=>[re("li",Sa,ue(e.$t("SSL.SiteSSL.index_15")),1),re("li",null,ue(e.$t("Site.Cert.index_21")),1),re("li",null,ue(e.$t("Site.Cert.index_23")),1),re("li",null,ue(e.$t("Site.Cert.index_24")),1)])),_:1})):_e("",!0)])}}}),ha={class:"p-16px"},ya=Y({__name:"ssl",setup(e){const a=ae("custom"),t=[{key:"custom",label:"Custom SSL",component:pa},{key:"lets",label:"Lets Encrypt",component:ba}];return(e,n)=>{const l=Fe;return ie(),le("div",ha,[se(l,{value:de(a),"onUpdate:value":n[0]||(n[0]=e=>ce(a)?a.value=e:null),options:t},null,8,["value"])])}}}),wa={class:"bt-link",href:"https://forum.iPanel.com/d/15210-iPanel-enable-panel-ssl-use-self-signed-certificate-browser-add-secure",target:"_blank"},$a=Y({__name:"index",setup(a){const{t:t}=ee(),n=e=>{e?i():s()},i=()=>{l({title:t("Config.Safe.index_11"),width:600,footer:!0,component:Ae})},s=()=>{l({title:t("Config.Safe.index_12"),width:400,footer:!0,confirmType:"error",component:aa})},o=()=>{l({title:t("Config.Safe.index_13"),width:740,component:ya})};return(a,t)=>{const l=ye,i=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_8")},{content:oe((()=>[se(l,{value:de(Ee).panelSSL,"onUpdate:value":n},null,8,["value"]),se(i,{class:"ml-12px h-22px px-5px",size:"small",onClick:o},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_9")),1),re("a",wa,ue(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),ka={class:"p-20px"},Pa={class:"w-280px"},Ua={class:"w-280px"},Ba={class:"text-error"},ja=Y({__name:"config",setup(e){const{t:a}=ee(),t=ae(null),n=te({open:"True",basic_user:"",basic_pwd:""}),l={basic_user:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},s=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await B(xe(n)),j()};return(e,a)=>{const o=ye,d=he,r=Be,f=we,u=m,p=i;return ie(),le("div",ka,[se(u,{ref_key:"formRef",ref:t,model:de(n),rules:l},{default:oe((()=>[se(d,{label:e.$t("Config.Safe.index_54")},{default:oe((()=>[se(o,{value:de(n).open,"onUpdate:value":a[0]||(a[0]=e=>de(n).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])])),_:1},8,["label"]),se(d,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:oe((()=>[re("div",Pa,[se(r,{value:de(n).basic_user,"onUpdate:value":a[1]||(a[1]=e=>de(n).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])])),_:1},8,["label"]),se(d,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:oe((()=>[re("div",Ua,[se(r,{value:de(n).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>de(n).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])])),_:1},8,["label"]),se(d,{label:" ","show-feedback":!1},{default:oe((()=>[se(f,{type:"primary",onClick:s},{default:oe((()=>[pe(ue(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),se(p,{class:"mt-20px pl-12px"},{default:oe((()=>[re("li",Ba,ue(e.$t("Config.Safe.index_59")),1),re("li",null,ue(e.$t("Config.Safe.index_48")),1),re("li",null,ue(e.$t("Config.Safe.index_49")),1),re("li",null,ue(e.$t("Config.Safe.index_50")),1),re("li",null,ue(e.$t("Config.Safe.index_51")),1)])),_:1})])}}}),La={class:"p-20px"},Ra={class:"text-error"},za={class:"flex items-center justify-between"},Ea={class:"bt-link",href:"https://www.hypr.local/bbs/thread-34374-1-1.html",target:"_blank"},Ia=Y({__name:"confirm",setup(e,{expose:t}){const{t:n}=ee(),i=ae();return t({onConfirm:async()=>{await i.value.validate(),l({title:n("Config.Safe.index_53"),width:500,component:ja})}}),(e,t)=>{const n=a,l=Ie,s=Te;return ie(),le("div",La,[se(n,{class:"mb-20px"},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_47")),1)])),_:1}),se(l,{class:"mb-20px"},{default:oe((()=>[re("li",Ra,ue(e.$t("Config.Safe.index_19")),1),re("li",null,ue(e.$t("Config.Safe.index_48")),1),re("li",null,ue(e.$t("Config.Safe.index_49")),1),re("li",null,ue(e.$t("Config.Safe.index_50")),1),re("li",null,ue(e.$t("Config.Safe.index_51")),1)])),_:1}),re("div",za,[se(s,{ref_key:"riskRef",ref:i},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_29")),1)])),_:1},512),re("a",Ea,ue(e.$t("Config.Safe.index_52")),1)])])}}}),Ta={class:"bt-link",href:"https://www.hypr.local/bbs/thread-34374-1-1.html",target:"_blank"},Da=Y({__name:"index",setup(a){const{t:t}=ee(),n=async e=>{e?l({title:t("Config.Safe.index_46"),width:650,footer:!0,component:Ia}):(await B({open:"False",basic_user:"",basic_pwd:""}),j())};return(a,t)=>{const l=ye,i=e;return ie(),fe(i,{label:a.$t("Config.Safe.index_44")},{content:oe((()=>[se(l,{value:de(Ee).basicAuth,"onUpdate:value":n},null,8,["value"])])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_45")),1),re("a",Ta,ue(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ha={class:"p-20px"},Aa={class:"mb-20px text-20px text-center text-#555"},Fa={class:"px-36px"},Ka={class:"mb-10px text-16px text-#666"},Xa={class:"mb-20px px-24px py-16px bg-#f8f8f8 rounded-4px leading-24px text-14px text-#444 font-500"},Ma={class:"text-#666"},Oa={class:"text-#666"},qa={class:"mb-20px text-16px text-#666"},Ga={class:"bt-link",href:"",target:"_blank"},Ja={class:"text-error"},Na=E(Y({__name:"config",setup(e){const a=te({key:"--",username:"--"}),t=ae(""),{loading:l,setLoading:s}=n();return(async()=>{const{message:e}=await R();k(e)&&(a.key=e.key,a.username=e.username)})(),(async()=>{try{s(!0);const{message:e}=await z({act:1});k(e)&&(t.value=e.result)}finally{s(!1)}})(),(e,n)=>{const s=L,o=v,d=i;return ie(),le("div",Ha,[re("div",Aa,ue(e.$t("Config.Safe.index_70")),1),re("div",Fa,[re("div",Ka,ue(e.$t("Config.Safe.index_71")),1),re("div",Xa,[re("div",null,[pe(ue(e.$t("Config.Safe.index_72"))+" ",1),re("span",Ma,ue(de(a).username),1)]),re("div",null,[pe(ue(e.$t("Config.Safe.index_73"))+" ",1),re("span",Oa,ue(de(a).key),1)]),re("div",null,[pe(ue(e.$t("Config.Safe.index_74"))+" ",1),n[0]||(n[0]=re("span",{class:"text-#666"},"Time based",-1))])]),re("div",qa,ue(e.$t("Config.Safe.index_75")),1),se(o,{class:"flex justify-center h-150px",show:de(l)},{default:oe((()=>[me(se(s,{value:de(t),size:150,padding:0},null,8,["value"]),[[ge,de(t)]])])),_:1},8,["show"]),se(d,null,{default:oe((()=>[re("li",null,[pe(ue(e.$t("Config.Safe.index_76"))+" ",1),re("a",Ga,ue(e.$t("Config.Safe.index_77")),1)]),re("li",Ja,ue(e.$t("Config.Safe.index_78")),1)])),_:1})])])}}}),[["__scopeId","data-v-493fa0d9"]]),Qa={class:"p-20px"},Va={class:"text-error"},Wa={class:"text-error"},Za={class:"flex items-center justify-between"},Ya={class:"bt-link",href:"https://www.iPanel.com/forum/d/357-how-to-use-google-authenticator-in-the-iPanel",target:"_blank"},et=Y({__name:"confirm",setup(e,{expose:t}){const{t:n}=ee(),i=ae();return t({onConfirm:async()=>{await i.value.validate();const{message:e}=await I({act:1});Ee.value.dynamicPwd=!0,l({title:n("Config.Safe.index_62"),width:600,component:Na}),k(e)&&U.success(e.result)}}),(e,t)=>{const n=a,l=Ie,s=Te;return ie(),le("div",Qa,[se(n,{class:"mb-20px"},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_47")),1)])),_:1}),se(l,{class:"mb-20px"},{default:oe((()=>[re("li",Va,ue(e.$t("Config.Safe.index_19")),1),re("li",Wa,ue(e.$t("Config.Safe.index_69")),1),re("li",null,ue(e.$t("Config.Safe.index_66")),1),re("li",null,ue(e.$t("Config.Safe.index_67")),1)])),_:1}),re("div",Za,[se(s,{ref_key:"riskRef",ref:i},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_68")),1)])),_:1},512),re("a",Ya,ue(e.$t("Config.Safe.index_168")),1)])])}}}),at={class:"bt-link",href:"https://www.iPanel.com/forum/d/357-how-to-use-google-authenticator-in-the-iPanel",target:"_blank"},tt=Y({__name:"index",setup(a){const{t:t}=ee(),n=async e=>{e?i():(await I({act:0},!0),Ee.value.dynamicPwd=!1)},i=()=>{Ee.value.dynamicPwd?l({title:t("Config.Safe.index_62"),width:600,component:Na}):l({title:t("Config.Safe.index_63"),width:670,footer:!0,component:et})};return(a,t)=>{const l=ye,s=we,o=e;return ie(),fe(o,{label:a.$t("Config.Safe.index_60")},{content:oe((()=>[se(l,{value:de(Ee).dynamicPwd,"onUpdate:value":n},null,8,["value"]),se(s,{class:"ml-12px h-22px px-5px",size:"small",onClick:i},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_61")),1),re("a",at,ue(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),nt={class:"text-error"},lt=Y({__name:"index",setup(a){const{t:t}=ee(),n=async e=>{o({title:t("Config.Safe.index_82",[t(e?"Config.Safe.index_83":"Config.Safe.index_84")]),content:()=>e?se(ve,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>se("span",{class:"text-error"},[t("Config.Safe.index_86")])}):se(Ce,null,[t("Config.Safe.index_87")]),onConfirm:async()=>{await T(),Ee.value.pwdComplexity=e}})};return(a,t)=>{const l=ye,i=e;return ie(),fe(i,{label:a.$t("Config.Safe.index_79")},{content:oe((()=>[se(l,{value:de(Ee).pwdComplexity,"onUpdate:value":n},null,8,["value"])])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_80")),1),re("span",nt,ue(a.$t("Config.Safe.index_81")),1)])),_:1},8,["label"])}}}),it={class:"w-260px"},st={class:"text-error"},ot=Y({__name:"index",setup(a){const t=async()=>{await D(De()),j()};return(a,n)=>{const l=Be,i=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_88")},{content:oe((()=>[re("div",it,[se(l,{value:de(Ee).domain,"onUpdate:value":n[0]||(n[0]=e=>de(Ee).domain=e),placeholder:""},null,8,["value"])]),se(i,{class:"ml-12px",type:"primary",onClick:t},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_89")),1),re("span",st,ue(a.$t("Config.Safe.index_90")),1)])),_:1},8,["label"])}}}),dt={class:"w-260px"},rt={class:"text-error"},ft=Y({__name:"index",setup(a){const{t:t}=ee(),n=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,a=Ee.value.limitIp.split(",").join("-").split("-"),n=!0;if(a.length)for(let t=0;t<a.length;t++)0==e.test(a[t])&&(n=!1);if(!n&&Ee.value.limitIp.length>0)return U.error(t("Config.Safe.index_95"));await H(De()),j()};return(a,t)=>{const l=Be,i=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_91")},{content:oe((()=>[re("div",dt,[se(l,{value:de(Ee).limitIp,"onUpdate:value":t[0]||(t[0]=e=>de(Ee).limitIp=e),placeholder:a.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),se(i,{class:"ml-12px",type:"primary",onClick:n},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_93")),1),re("span",rt,ue(a.$t("Config.Safe.index_94")),1)])),_:1},8,["label"])}}}),ut={class:"p-20px"},pt={class:"text-error"},ct={class:"text-error"},_t={class:"w-210px"},xt=Y({__name:"set",setup(e,{expose:a}){const{t:t}=ee(),n=ae(),l=ae(null),i=te({port:A(Ee.value.port)}),s={port:{trigger:["blur","input"],validator:()=>!!K(i.port)||new Error(t("Config.Safe.index_104"))}};return a({onConfirm:async()=>{var e;await n.value.validate(),await(null==(e=l.value)?void 0:e.validate());const a=De();a.port="".concat(i.port),await F(a),j("".concat(location.protocol,"//").concat(location.hostname,":").concat(i.port).concat(location.pathname))}}),(e,a)=>{const t=Ie,o=Le,d=he,r=m,f=Te;return ie(),le("div",ut,[se(t,{class:"mb-20px"},{default:oe((()=>[re("li",pt,ue(e.$t("Config.Safe.index_100")),1),re("li",ct,ue(e.$t("Config.Safe.index_101")),1)])),_:1}),se(r,{ref_key:"formRef",ref:l,model:de(i),rules:s},{default:oe((()=>[se(d,{label:e.$t("Config.Safe.index_96"),path:"port","label-width":"auto","label-style":{paddingLeft:"24px"}},{default:oe((()=>[re("div",_t,[se(o,{value:de(i).port,"onUpdate:value":a[0]||(a[0]=e=>de(i).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),se(f,{ref_key:"riskRef",ref:n},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_102"))+" ",1),re("a",{class:"bt-link",href:"https://www.iPanel.com/forum/d/599-how-to-release-the-iPanel-port",target:"_blank",onClick:Se((()=>!1),["stop"])},ue(e.$t("Config.Safe.index_103")),1)])),_:1},512)])}}}),mt={class:"w-260px"},gt={class:"text-error"},vt=Y({__name:"index",setup(a){const{t:t}=ee(),n=async()=>{l({title:t("Config.Safe.index_99"),width:400,footer:!0,component:xt})};return(a,t)=>{const l=Be,i=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_96")},{content:oe((()=>[re("div",mt,[se(l,{value:de(Ee).port,disabled:!0,placeholder:""},null,8,["value"])]),se(i,{class:"ml-12px",type:"primary",onClick:n},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_97")),1),re("span",gt,ue(a.$t("Config.Safe.index_98")),1)])),_:1},8,["label"])}}}),Ct={class:"px-20px pt-28px pb-8px"},St={class:"w-240px"},bt=Y({__name:"set",setup(e,{expose:a}){const{t:t}=ee(),n=ae(null),l=te({adminPath:Ee.value.adminPath}),i={adminPath:{trigger:["blur","input"],validator:()=>""!==l.adminPath.trim()||new Error(t("Config.Safe.index_108"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await X({admin_path:M(l.adminPath)}),Ee.value.adminPath=l.adminPath}}),(e,a)=>{const t=Be,s=he,o=m;return ie(),le("div",Ct,[se(o,{ref_key:"formRef",ref:n,model:de(l),rules:i},{default:oe((()=>[se(s,{label:e.$t("Config.Safe.index_105"),path:"adminPath"},{default:oe((()=>[re("div",St,[se(t,{value:de(l).adminPath,"onUpdate:value":a[0]||(a[0]=e=>de(l).adminPath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),ht={class:"w-260px"},yt=Y({__name:"index",setup(a){const{t:t}=ee(),n=async()=>{l({title:t("Config.Safe.index_107"),width:440,footer:!0,component:bt})};return(a,t)=>{const l=Be,i=we,s=e;return ie(),fe(s,{label:a.$t("Config.Safe.index_105")},{content:oe((()=>[re("div",ht,[se(l,{value:de(Ee).adminPath,disabled:!0,placeholder:""},null,8,["value"])]),se(i,{class:"ml-12px",type:"primary",onClick:n},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_106")),1)])),_:1},8,["label"])}}}),wt={class:"px-20px py-24px"},$t={class:"w-200px"},kt={class:"text-error"},Pt=Y({__name:"set",setup(e,{expose:a}){const{t:t}=ee(),n=ae(null),l=te({status_code:Ee.value.statusCode}),s={},o=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await O({status_code:l.status_code}),Ee.value.statusCode=l.status_code}}),(e,a)=>{const t=Re,d=he,r=m,f=i;return ie(),le("div",wt,[se(r,{ref_key:"formRef",ref:n,model:de(l),rules:s},{default:oe((()=>[se(d,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:oe((()=>[re("div",$t,[se(t,{value:de(l).status_code,"onUpdate:value":a[0]||(a[0]=e=>de(l).status_code=e),options:o},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),se(f,null,{default:oe((()=>[re("li",kt,ue(e.$t("Config.Safe.index_119")),1)])),_:1})])}}}),Ut={class:"w-260px"},Bt=Y({__name:"index",setup(a){const{t:t}=ee(),n=new Map([[403,t("Config.Safe.index_111")],[404,t("Config.Safe.index_112")],[416,t("Config.Safe.index_113")],[408,t("Config.Safe.index_114")],[400,t("Config.Safe.index_115")],[401,t("Config.Safe.index_116")]]),i=be((()=>n.get(Ee.value.statusCode)||"--")),s=async()=>{l({title:t("Config.Safe.index_117"),width:420,footer:!0,component:Pt})};return(a,t)=>{const n=Be,l=we,o=e;return ie(),fe(o,{label:a.$t("Config.Safe.index_109")},{content:oe((()=>[re("div",Ut,[se(n,{value:de(i),disabled:!0,placeholder:""},null,8,["value"])]),se(l,{class:"ml-12px",type:"primary",onClick:s},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_110")),1)])),_:1},8,["label"])}}}),jt={class:"px-20px py-24px"},Lt={class:"w-120px"},Rt={class:"text-error"},zt=Y({__name:"set",setup(e,{expose:a}){const{t:t}=ee(),n=ae(null),l=te({day:Ee.value.pwdSetDay}),s={day:{trigger:["blur","input"],validator:()=>l.day<0?new Error(t("Config.Safe.index_128")):!(!l.day&&0!==l.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await q({expire:l.day}),He()}}),(e,a)=>{const t=Le,o=he,d=m,r=i;return ie(),le("div",jt,[se(d,{ref_key:"formRef",ref:n,model:de(l),rules:s},{default:oe((()=>[se(o,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:oe((()=>[re("div",Lt,[se(t,{value:de(l).day,"onUpdate:value":a[0]||(a[0]=e=>de(l).day=e),min:0,"show-button":!1,placeholder:""},{suffix:oe((()=>[pe(ue(e.$t("Public.Unit.Day",de(l).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),se(r,{class:"mt-4px"},{default:oe((()=>[re("li",Rt,ue(e.$t("Config.Safe.index_126")),1),re("li",null,ue(e.$t("Config.Safe.index_127")),1)])),_:1})])}}}),Et={class:"w-260px"},It=Y({__name:"index",setup(a){const{t:t}=ee(),n=be((()=>{const{pwdSetDay:e,pwdExpireDay:a,pwdExpireTime:n}=Ee.value;return 0===e?t("Config.Safe.index_122"):t("Config.Safe.index_123",[G(n),a])})),i=async()=>{l({title:t("Config.Safe.index_124"),width:360,footer:!0,component:zt})};return(a,t)=>{const l=Be,s=we,o=e;return ie(),fe(o,{label:a.$t("Config.Safe.index_120")},{content:oe((()=>[re("div",Et,[se(l,{value:de(n),disabled:!0,placeholder:""},null,8,["value"])]),se(s,{class:"ml-12px",type:"primary",onClick:i},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_121")),1)])),_:1},8,["label"])}}}),Tt={class:"p-20px"},Dt={class:"mb-12px"},Ht={class:"mb-12px"},At={class:"mb-20px"},Ft=Y({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{d(a.address)};return(e,a)=>{const n=Ke,l=we,s=i;return ie(),le("div",Tt,[re("div",Dt,ue(e.$t("Config.Safe.index_147")),1),re("div",Ht,[se(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),re("div",At,[se(l,{type:"primary",onClick:t},{default:oe((()=>[pe(ue(e.$t("Public.Btn.Copy")),1)])),_:1})]),se(s,null,{default:oe((()=>[re("li",null,ue(e.$t("Config.Safe.index_148")),1),re("li",null,ue(e.$t("Config.Safe.index_149")),1),re("li",null,ue(e.$t("Config.Safe.index_150")),1)])),_:1})])}}}),Kt={class:"p-20px pt-28px pb-8px"},Xt={class:"flex mb-24px"},Mt={class:"min-w-32px"},Ot={class:"flex-1 ml-16px"},qt={class:"leading-24px text-error text-14px"},Gt={class:"w-160px"},Jt=Y({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const n=t,{t:i}=ee(),s=S(),o=ae(null),d=te({type:3,day:1}),r={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},f=e=>e%1==0,u=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);l({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:Ft})};return a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate());const{message:a}=await J({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});k(a)&&(u(a.token),U.success(a.msg),n("refresh"))}}),(e,a)=>{const t=b,n=ze,l=Pe,i=he,u=Le,p=m;return ie(),le("div",Kt,[re("div",Xt,[re("div",Mt,[se(t,{name:"base-warning",size:"32",color:de(s).warningColor},null,8,["color"])]),re("div",Ot,[re("div",qt,[re("div",null,ue(e.$t("Config.Safe.index_140")),1),re("div",null,ue(e.$t("Config.Safe.index_141")),1)])])]),se(p,{ref_key:"formRef",ref:o,model:de(d),rules:r,"label-width":"140"},{default:oe((()=>[se(i,{label:e.$t("Config.Safe.index_142")},{default:oe((()=>[se(l,{value:de(d).type,"onUpdate:value":a[0]||(a[0]=e=>de(d).type=e)},{default:oe((()=>[se(n,{value:3},{default:oe((()=>[pe("3 "+ue(e.$t("Public.Unit.Hour",3)),1)])),_:1}),se(n,{value:6},{default:oe((()=>[pe("6 "+ue(e.$t("Public.Unit.Hour",6)),1)])),_:1}),se(n,{value:9},{default:oe((()=>[pe("9 "+ue(e.$t("Public.Unit.Hour",9)),1)])),_:1}),se(n,{value:12},{default:oe((()=>[pe("12 "+ue(e.$t("Public.Unit.Hour",12)),1)])),_:1}),se(n,{value:0},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_143")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),me(se(i,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:oe((()=>[re("div",Gt,[se(u,{value:de(d).day,"onUpdate:value":a[1]||(a[1]=e=>de(d).day=e),min:1,"show-button":!1,validator:f},{suffix:oe((()=>[pe(ue(e.$t("Public.Unit.Day",de(d).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[ge,0===de(d).type]])])),_:1},8,["model"])])}}}),Nt={class:"p-20px h-500px"},Qt=Y({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:t}=ee(),{table:n,columns:l,setLoading:i}=r([{key:"type",title:t("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:t("Config.Safe.index_152"),width:140},{key:"log",title:t("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),s=async()=>{try{i(!0);const{message:e}=await N({id:a.id});n.data=C(e)?e:[]}finally{i(!1)}};return s(),(e,a)=>{const t=we,i=f,o=qe;return ie(),le("div",Nt,[se(o,null,{toolsLeft:oe((()=>[se(t,{onClick:s},{default:oe((()=>[pe(ue(e.$t("Public.Btn.Refresh")),1)])),_:1})])),table:oe((()=>[se(i,{"max-height":360,loading:de(n).loading,data:de(n).data,columns:de(l)},null,8,["loading","data","columns"])])),_:1})])}}}),Vt={class:"h-500px p-20px"},Wt=Y({__name:"set",setup(e){const{t:a}=ee(),t=()=>{l({title:a("Config.Safe.index_146"),width:580,footer:!0,component:Jt,data:{onRefresh:()=>{x()}}})},{table:n,columns:i,setLoading:s}=r([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?se("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):se("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):G(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>G(e.expire)},u({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{p(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{d(e)}},{label:a("Public.Btn.Del"),onClick:()=>{c(e)}}]})]),d=e=>{l({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Qt})},p=e=>{o({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await W({id:e.id}),x()}})},c=e=>{o({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await Z({id:e.id}),x()}})},_=te({p:1,rows:10}),x=async()=>{try{s(!0);const{message:e}=await Q(xe(_));k(e)&&(n.data=C(e.data)?e.data:[],n.total=V(e.page))}finally{s(!1)}};return x(),(e,a)=>{const l=we,s=f,o=Ge,d=qe;return ie(),le("div",Vt,[se(d,null,{toolsLeft:oe((()=>[se(l,{type:"primary",onClick:t},{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_146")),1)])),_:1})])),table:oe((()=>[se(s,{"max-height":340,loading:de(n).loading,data:de(n).data,columns:de(i)},null,8,["loading","data","columns"])])),pageRight:oe((()=>[se(o,{page:de(_).p,"onUpdate:page":a[0]||(a[0]=e=>de(_).p=e),"page-size":de(_).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>de(_).rows=e),"item-count":de(n).total,onRefresh:x},null,8,["page","page-size","item-count"])])),_:1})])}}}),Zt=Y({__name:"index",setup(a){const{t:t}=ee(),n=()=>{l({title:t("Config.Safe.index_139"),width:740,component:Wt})};return(a,t)=>{const l=we,i=e;return ie(),fe(i,{label:a.$t("Config.Safe.index_137")},{content:oe((()=>[se(l,{type:"primary",onClick:n},{default:oe((()=>[pe(ue(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:oe((()=>[re("span",null,ue(a.$t("Config.Safe.index_138")),1)])),_:1},8,["label"])}}}),Yt=E(Y({__name:"config",setup:e=>(e,a)=>(ie(),le("div",null,[se(t,null,{default:oe((()=>[pe(ue(e.$t("Config.Safe.index_1")),1)])),_:1}),se(Ve),se($a),se(Da),se(tt),se(lt),se(ot),se(ft),se(vt),se(yt),se(Bt),se(It),se(Zt)]))}),[["__scopeId","data-v-919bcd3c"]]);export{Yt as S};


