import{c as a,_ as e,q as s}from"./public.js?v=1752142539265";import{W as t,V as n,n as l,_ as o,O as r,d as i}from"./page_layout.js?v=1752142539265";import p from"./backup-info.js?v=1752142539265";import{u,G as c,H as f}from"./utils.js?v=1752142539265";import{k as _,P as d,r as m,e as x,a1 as b,X as g,a2 as k,Q as B,W as C,j as y,a3 as j,an as v,V as h}from"./vue.js?v=1752142539265";import{bX as w,_ as z,c3 as G}from"./naive.js?v=1752142539265";import"./common.js?v=1752142539265";import"./__commonjsHelpers__.js?v=1752142539265";import"./soft.js?v=1752142539265";const H={class:"text-error"},P=_({__name:"index",props:{onRefresh:{type:Function},data:{}},setup(_,{expose:P}){const{t:R}=d(),V=_,W=u(),X=m(),q=x({auto_exit:!1,force_restore:!1}),{loading:D,setLoading:F}=a();return(async()=>{try{F(!0);const{message:a}=await c({timestamp:V.data.timestamp,type:"backup"});i(a)&&(X.value=a,W.getData(a.data_status))}finally{F(!1)}})(),P({onConfirm:async()=>new Promise((a=>{s({title:R("Config.Backup.index_68"),content:()=>B(G,{type:"warning"},{default:()=>[B("span",{class:"color-warning font-bold"},[y(" "),R("Config.Backup.index_69"),y(" ")])]}),onConfirm:async()=>{await f({timestamp:V.data.timestamp,auto_exit:q.auto_exit?1:0,force_restore:q.force_restore?1:0}),V.onRefresh(),a(!0)}})}))}),(a,s)=>{const i=n,u=t,c=z,f=w,_=o,d=e,m=r;return g(),b(m,{show:C(D),class:"p-16px"},{default:k((()=>[B(u,{class:"mb-16px",column:2,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:k((()=>[B(i,{label:C(R)("Config.Backup.index_59")},{default:k((()=>[y(j(V.data.backup_name),1)])),_:1},8,["label"]),B(i,{label:C(R)("Config.Backup.index_60")},{default:k((()=>{var a;return[y(j(null==(a=C(X))?void 0:a.done_time),1)]})),_:1},8,["label"]),B(i,{label:C(R)("Config.Backup.index_61")},{default:k((()=>{var a;return[y(j(C(l)(Number((null==(a=C(X))?void 0:a.backup_file_size)||0))),1)]})),_:1},8,["label"]),B(i,{label:C(R)("Config.Backup.index_62")},{default:k((()=>{var a;return[y(j(null==(a=C(X))?void 0:a.backup_file),1)]})),_:1},8,["label"]),B(i,{label:C(R)("Config.Backup.index_63")},{default:k((()=>{var a;return[y(j(null==(a=C(X))?void 0:a.backup_file_sha256),1)]})),_:1},8,["label"])])),_:1}),B(p),B(f,{class:"flex-col! my-20px gap-16px!"},{default:k((()=>[v("",!0),B(c,{checked:C(q).force_restore,"onUpdate:checked":s[1]||(s[1]=a=>C(q).force_restore=a)},{default:k((()=>[y(j(C(R)("Config.Backup.index_64")),1)])),_:1},8,["checked"]),v("",!0)])),_:1}),B(d,{class:"mt-16px"},{default:k((()=>[h("li",null,[B(_,{name:"base-warning",class:"text-warning mr-4px",size:"16"}),h("span",null,[h("text",null,j(C(R)("Config.Backup.index_65"))+" 252.97 MB "+j(C(R)("Config.Backup.index_66"))+" 16.97 GB",1),B(_,{name:"base-refresh",class:"text-primary ml-4px"})])]),h("li",H,j(C(R)("Config.Backup.index_67")),1)])),_:1})])),_:1},8,["show"])}}});export{P as default};
